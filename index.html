<!doctype html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
  <link href="/wills/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/wills/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/wills/css/main.css?v=5.1.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="wills blogs，前端开发博客，技术博客，前端学习笔记" />








  <link rel="shortcut icon" type="image/x-icon" href="/wills/favicon.ico?v=5.1.0" />






<meta name="description" content="wills blogs，前端开发博客，技术博客，前端学习笔记">
<meta property="og:type" content="website">
<meta property="og:title" content="Wills's blogs">
<meta property="og:url" content="https://leiwensu.github.io/wills/index.html">
<meta property="og:site_name" content="Wills's blogs">
<meta property="og:description" content="wills blogs，前端开发博客，技术博客，前端学习笔记">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Wills's blogs">
<meta name="twitter:description" content="wills blogs，前端开发博客，技术博客，前端学习笔记">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/wills/',
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://leiwensu.github.io/wills/"/>





  <title> Wills's blogs </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  



  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?cee50df2052a8a7450182db30db0b563";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>








  
  
    
  

  <div class="container one-collumn sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/wills/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">Wills's blogs</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle"></p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/wills/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/wills/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/wills/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/wills/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="https://leiwensu.github.io/wills/wills/2017/05/10/Vuex/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="Wills">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/wills/images/avatar2.png">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="Wills's blogs">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="Wills's blogs" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/wills/2017/05/10/Vuex/" itemprop="url">
                  Vuex
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-05-10T13:25:48+08:00">
                2017-05-10
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <a href="/wills/2017/05/10/Vuex/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2017/05/10/Vuex/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><p>直接下载/CDN引用<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">&lt;script src=<span class="string">"/path/to/vue.js"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></div><div class="line">&lt;script src=<span class="string">"/path/to/vuex.js"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></div></pre></td></tr></table></figure></p>
<p>npm</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm install vuex --save-dev</div></pre></td></tr></table></figure>
<p>Yarn</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">yarn add vuex</div></pre></td></tr></table></figure>
<p>在一个模块打包系统中，必须显示地通过Vue.use()来安装Vuex</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">'vue'</span></div><div class="line"><span class="keyword">import</span> Vuex <span class="keyword">from</span> <span class="string">'vuex'</span></div><div class="line"></div><div class="line">Vue.use(Vuex)</div></pre></td></tr></table></figure>
<p>Vuex是一个专为Vue.js应用程序开发的状态管理模式。它采用集中式存储管理应用的所有组件的状态，并以相应的规则保证状态以一种可预测的方式发生变化。</p>
<p>使用例子如下：</p>
<p> main.js<br> <figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">  </div><div class="line"><span class="keyword">import</span> store <span class="keyword">from</span> <span class="string">'./store'</span></div><div class="line"></div><div class="line"><span class="keyword">new</span> Vue(&#123;</div><div class="line">    store,<span class="comment">//注入组件当中</span></div><div class="line">    el: <span class="string">'#app'</span>,</div><div class="line">    <span class="attr">render</span>: <span class="function"><span class="params">h</span> =&gt;</span> h(App)</div><div class="line">&#125;)</div></pre></td></tr></table></figure></p>
<p> store.js<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">'vue'</span></div><div class="line"><span class="keyword">import</span> Vuex <span class="keyword">from</span> <span class="string">'vuex'</span></div><div class="line">Vue.use(Vuex);</div><div class="line"></div><div class="line"><span class="keyword">var</span> state = &#123;</div><div class="line">    <span class="attr">count</span>: <span class="number">10</span></div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="keyword">const</span> mutations = &#123;</div><div class="line">    increment(state) &#123; <span class="comment">//处理状态(数据)变化</span></div><div class="line">        state.count++;</div><div class="line">    &#125;,</div><div class="line">    decrement(state) &#123;</div><div class="line">        state.count--;</div><div class="line">    &#125;</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="keyword">const</span> actions = &#123;</div><div class="line">    <span class="attr">increment</span>: (&#123; <span class="comment">//处理你要干什么，异步请求，判断，流程控制</span></div><div class="line">        commit</div><div class="line">    &#125;) =&gt; &#123;</div><div class="line">        commit(<span class="string">'increment'</span>)</div><div class="line">    &#125;,</div><div class="line">    <span class="attr">decrement</span>: (&#123;</div><div class="line">        commit</div><div class="line">    &#125;) =&gt; &#123;</div><div class="line">        commit(<span class="string">'decrement'</span>);</div><div class="line">    &#125;,</div><div class="line">    <span class="attr">clickOdd</span>: (&#123;</div><div class="line">        commit,</div><div class="line">        state</div><div class="line">    &#125;) =&gt; &#123;</div><div class="line">        <span class="keyword">if</span> (state.count % <span class="number">2</span> == <span class="number">0</span>) &#123;</div><div class="line">            commit(<span class="string">'increment'</span>)</div><div class="line">        &#125;</div><div class="line">    &#125;,</div><div class="line">    <span class="attr">clickAsync</span>: (&#123;</div><div class="line">        commit</div><div class="line">    &#125;) =&gt; &#123;</div><div class="line">        <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve</span>) =&gt;</span> &#123;</div><div class="line">            setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">                commit(<span class="string">'increment'</span>);</div><div class="line"></div><div class="line">                resolve();</div><div class="line">            &#125;, <span class="number">1000</span>);</div><div class="line">        &#125;);</div><div class="line">    &#125;</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="keyword">const</span> getters = &#123;</div><div class="line">    count(state) &#123;</div><div class="line">        <span class="keyword">return</span> state.count;</div><div class="line">    &#125;,</div><div class="line">    getOdd(state) &#123;</div><div class="line">        <span class="keyword">return</span> state.count % <span class="number">2</span> == <span class="number">0</span> ? <span class="string">'偶数'</span> : <span class="string">'奇数'</span>;</div><div class="line">    &#125;</div><div class="line">&#125;;</div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">//需要导出Store对象</span></div><div class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> Vuex.Store(&#123;</div><div class="line">    state,</div><div class="line">    mutations,</div><div class="line">    actions,</div><div class="line">    getters</div><div class="line">&#125;);</div></pre></td></tr></table></figure></p>
<p>App.vue<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">h3</span>&gt;</span>welcome vuex-demo<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">value</span>=<span class="string">"增加"</span> @<span class="attr">click</span>=<span class="string">"increment"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">value</span>=<span class="string">"减少"</span> @<span class="attr">click</span>=<span class="string">"decrement"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">value</span>=<span class="string">"偶数才能点击+"</span> @<span class="attr">click</span>=<span class="string">"clickOdd"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">value</span>=<span class="string">"点击异步"</span> @<span class="attr">click</span>=<span class="string">"clickAsync"</span>&gt;</span></div><div class="line"></div><div class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span></div><div class="line">      现在数字为: &#123;&#123;count&#125;&#125;, 它现在是 &#123;&#123;getOdd&#125;&#125;</div><div class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></div><div class="line">  <span class="keyword">import</span> &#123;mapGetters, mapActions&#125; <span class="keyword">from</span> <span class="string">'vuex'</span></div><div class="line"></div><div class="line">  <span class="keyword">export</span> <span class="keyword">default</span>&#123;</div><div class="line">    <span class="attr">computed</span>:mapGetters([</div><div class="line">      <span class="string">'count'</span>,</div><div class="line">      <span class="string">'getOdd'</span></div><div class="line">    ]),</div><div class="line">    <span class="attr">methods</span>:mapActions([<span class="comment">//分发action</span></div><div class="line">      <span class="string">'increment'</span>,<span class="comment">//映射 this.increment() 为 this.$store.dispatch('increment')</span></div><div class="line">      <span class="string">'decrement'</span>,</div><div class="line">      <span class="string">'clickOdd'</span>,</div><div class="line">      <span class="string">'clickAsync'</span></div><div class="line">    ])</div><div class="line">  &#125;</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="https://leiwensu.github.io/wills/wills/2017/03/17/algorithm/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="Wills">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/wills/images/avatar2.png">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="Wills's blogs">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="Wills's blogs" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/wills/2017/03/17/algorithm/" itemprop="url">
                  前端算法题
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-03-17T10:39:43+08:00">
                2017-03-17
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/wills/categories/前端开发/" itemprop="url" rel="index">
                    <span itemprop="name">前端开发</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <a href="/wills/2017/03/17/algorithm/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2017/03/17/algorithm/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="js写冒泡排序"><a href="#js写冒泡排序" class="headerlink" title="js写冒泡排序"></a>js写冒泡排序</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">bubbleSort</span>(<span class="params">arr</span>)</span>&#123;</div><div class="line">  <span class="keyword">var</span> arrLen = arr.length;</div><div class="line">  <span class="keyword">if</span>(arrLen&lt;=<span class="number">1</span>)&#123;</div><div class="line">    <span class="keyword">return</span> arr;</div><div class="line">  &#125;<span class="keyword">else</span>&#123;</div><div class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>;i &lt; arrLen<span class="number">-1</span>;i++)&#123;</div><div class="line">      <span class="keyword">for</span>(<span class="keyword">var</span> j = i+<span class="number">1</span>;j&lt;arrLen;j++)&#123;</div><div class="line">        <span class="keyword">if</span>(arr[i]&gt;arr[j])&#123;</div><div class="line">          <span class="keyword">var</span> temp = arr[i];</div><div class="line">          arr[i] = arr[j];</div><div class="line">          arr[j] = temp;</div><div class="line">        &#125;</div><div class="line">      &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> arr;</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="js写快速排序"><a href="#js写快速排序" class="headerlink" title="js写快速排序"></a>js写快速排序</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">quickSort</span>(<span class="params">arr</span>)</span>&#123;</div><div class="line">  <span class="keyword">var</span> arrLen = arr.length;</div><div class="line">  <span class="keyword">if</span>(arrLen&lt;=<span class="number">1</span>)&#123;</div><div class="line">    <span class="keyword">return</span> arr;</div><div class="line">  &#125;<span class="keyword">else</span>&#123;</div><div class="line">    <span class="keyword">var</span> left = [];</div><div class="line">    <span class="keyword">var</span> right = [];</div><div class="line">    <span class="keyword">var</span> basic = arr[<span class="number">0</span>];</div><div class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">1</span>;i &lt; arrLen; i++)&#123;</div><div class="line">      <span class="keyword">if</span>(arr[i]&lt;basic)&#123;</div><div class="line">        left.push(arr[i]);</div><div class="line">      &#125;<span class="keyword">else</span>&#123;</div><div class="line">        right.push(arr[i]);</div><div class="line">      &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> quickSort(left).concat(basic,quickSort(right));</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="js写二分搜素"><a href="#js写二分搜素" class="headerlink" title="js写二分搜素"></a>js写二分搜素</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">binarySearch</span>(<span class="params">data,dist,startIndex,endIndex</span>)</span>&#123;</div><div class="line">  <span class="keyword">var</span> startIndex = startIndex || <span class="number">0</span>;</div><div class="line">  <span class="keyword">var</span> endIndex = endIndex || data.length<span class="number">-1</span>;</div><div class="line">  <span class="keyword">var</span> midIndex = <span class="built_in">Math</span>.floor((startIndex+endIndex)/<span class="number">2</span>);</div><div class="line">  <span class="keyword">if</span>(dist == data[midIndex])&#123;</div><div class="line">    <span class="keyword">return</span> midIndex;</div><div class="line">  &#125;<span class="keyword">else</span> <span class="keyword">if</span>(dist &lt; data[startIndex])&#123;</div><div class="line">    <span class="keyword">return</span> binarySearch(data,dist,startIndex,midIndex<span class="number">-1</span>);</div><div class="line">  &#125;<span class="keyword">else</span>&#123;</div><div class="line">    <span class="keyword">return</span> binarySearch(data,dist,midIndex+<span class="number">1</span>,endIndex);</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="数组去重"><a href="#数组去重" class="headerlink" title="数组去重"></a>数组去重</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">uniq1</span>(<span class="params">arr</span>)</span>&#123;</div><div class="line">  <span class="keyword">var</span> res = [];</div><div class="line">  <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>;i &lt; arr.length;i++)&#123;</div><div class="line">    <span class="keyword">if</span>(res.indexOf(arr[i])==<span class="number">-1</span>)&#123;</div><div class="line">      res.push(arr[i]);</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">return</span> res;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">uniq2</span>(<span class="params">arr</span>)</span>&#123;</div><div class="line">  <span class="keyword">var</span> json = &#123;&#125;;</div><div class="line">  <span class="keyword">var</span> res = [];</div><div class="line">  <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>;i &lt; arr.length;i++)&#123;</div><div class="line">    <span class="keyword">if</span>(!json[arr[i]])&#123;</div><div class="line">      json[arr[i]] = <span class="literal">true</span>;</div><div class="line">      res.push(arr[i]);</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">return</span> res;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="对象深度克隆"><a href="#对象深度克隆" class="headerlink" title="对象深度克隆"></a>对象深度克隆</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">deepClone</span>(<span class="params">obj</span>)</span>&#123;</div><div class="line">  <span class="keyword">var</span> buf;</div><div class="line">  <span class="keyword">if</span>(obj <span class="keyword">instanceof</span> <span class="built_in">Array</span>)&#123;</div><div class="line">    buf = [];</div><div class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; obj.length;i++)&#123;</div><div class="line">      buf[i] = deepClone(obj[i]);</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> buf;</div><div class="line">  &#125;<span class="keyword">else</span> <span class="keyword">if</span>(obj <span class="keyword">instanceof</span> <span class="built_in">Object</span>)&#123;</div><div class="line">    buf = &#123;&#125;;</div><div class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> k <span class="keyword">in</span> obj)&#123;</div><div class="line">      buf[k] = deepClone(obj[k]);</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> buf;</div><div class="line">  &#125;<span class="keyword">else</span>&#123;</div><div class="line">    <span class="keyword">return</span> obj;</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="斐波拉契方法"><a href="#斐波拉契方法" class="headerlink" title="斐波拉契方法"></a>斐波拉契方法</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">fibonacci</span>(<span class="params">count</span>)</span>&#123;</div><div class="line">  <span class="keyword">if</span>(count&lt;<span class="number">0</span>)&#123;</div><div class="line">    <span class="keyword">return</span> count;</div><div class="line">  &#125;</div><div class="line"> <span class="keyword">if</span>(count &lt;= <span class="number">1</span>)&#123;</div><div class="line">   <span class="keyword">return</span> <span class="number">1</span>;</div><div class="line"> &#125;</div><div class="line"> <span class="keyword">var</span> first = <span class="number">1</span>;</div><div class="line"> <span class="keyword">var</span> second = <span class="number">1</span>;</div><div class="line"> <span class="keyword">var</span> third = <span class="number">0</span>;</div><div class="line"> <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">2</span>; i &lt;= count;i++)&#123;</div><div class="line">   third = first + second;</div><div class="line">   first = second;</div><div class="line">   second = third;</div><div class="line"> &#125;</div><div class="line"> <span class="keyword">return</span> third;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="判断一个字符串中出现次数最多的字符，统计这个次数"><a href="#判断一个字符串中出现次数最多的字符，统计这个次数" class="headerlink" title="判断一个字符串中出现次数最多的字符，统计这个次数"></a>判断一个字符串中出现次数最多的字符，统计这个次数</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">getCharTimes</span>(<span class="params">str</span>)</span>&#123;</div><div class="line">  <span class="keyword">var</span> json = &#123;&#125;;</div><div class="line">  <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; str.length;i++)&#123;</div><div class="line">    <span class="keyword">if</span>(!json[str.charAt(i)])&#123;</div><div class="line">      json[str.charAt(i)] = <span class="number">1</span>;</div><div class="line">    &#125;<span class="keyword">else</span>&#123;</div><div class="line">      json[str.charAt(i)]++;</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">var</span> max = <span class="number">0</span>;</div><div class="line">  <span class="keyword">var</span> maxIndex = <span class="string">''</span>;</div><div class="line">  <span class="keyword">for</span>(<span class="keyword">var</span> i <span class="keyword">in</span> json)&#123;</div><div class="line">    <span class="keyword">if</span>(json[i]&gt;max)&#123;</div><div class="line">      max = json[i];</div><div class="line">      maxIndex = i;</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">return</span> <span class="string">"出现最多的字符是"</span>+maxIndex+<span class="string">"，次数为"</span>+max;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="https://leiwensu.github.io/wills/wills/2017/01/09/vuejs/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="Wills">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/wills/images/avatar2.png">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="Wills's blogs">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="Wills's blogs" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/wills/2017/01/09/vuejs/" itemprop="url">
                  vuejs权威指南笔记
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-01-09T16:13:32+08:00">
                2017-01-09
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/wills/categories/前端开发/" itemprop="url" rel="index">
                    <span itemprop="name">前端开发</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <a href="/wills/2017/01/09/vuejs/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2017/01/09/vuejs/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="1-遇见Vue-js"><a href="#1-遇见Vue-js" class="headerlink" title="1. 遇见Vue.js"></a>1. 遇见Vue.js</h2><h3 id="1-1-MVX模式"><a href="#1-1-MVX模式" class="headerlink" title="1.1 MVX模式"></a>1.1 MVX模式</h3><p>1.1.1 MVC<br>Model controller view<br>view通过controller来和model联系，协调。view与model不直接联系，基本联系都是单向的<br>1.1.2 MVP<br>model controller/presenter view<br>presenter完全把view和model进行了分离，主要的逻辑都在presenter里实现<br>1.1.3 MVVM<br>model view viewModel<br>view的变化会自动更新到viewModel,viewModel的变化也会同步到view</p>
<h3 id="1-2-Vuejs是什么"><a href="#1-2-Vuejs是什么" class="headerlink" title="1.2 Vuejs是什么"></a>1.2 Vuejs是什么</h3><p>特性：</p>
<ol>
<li>确实轻量</li>
<li>数据绑定</li>
<li>指令</li>
<li>插件化<br>1.2.1 Vuejs与其他框架的区别  <ol>
<li>与angularJS的区别<br>相同点：<ul>
<li>都支持指令–内置指令和自定义指令</li>
<li>都支持过滤器–内置过滤器和自定义过滤器</li>
<li>都支持双向绑定</li>
<li>都不支持低端浏览器（比如IE6/IE7/IE8）<br>不同点：</li>
<li>angularJS学习成本高</li>
<li>性能上，angular依赖对数据做胀检查，所以Dependency Injection特性，而Vue.js本身提供的API都比较简单直观</li>
</ul>
</li>
<li>与React的区别<br>相同点：<ul>
<li>React采用特殊的JSX语法，Vue.js在组件开发中也推崇编写.vue特殊文件格式，对文件内容都有一些约定，两者都需要编译后使用</li>
<li>中心思想相同：一切都是组件，组件实例之间可以嵌套</li>
<li>都提供合理的钩子函数，可以让开发者定制化地去处理需求</li>
<li>都不内置类似ＡＪＡＸ、Router等功能核心包，而是以其他方式（插件）加载</li>
<li>在组件开发中都支持mixins的特性<br>不同点：<br>React依赖virtual DOM，而VueJs使用的是DOM模板。React采用的virtrual Dom会对渲染出来的结果做胀检查<br>Vuejs在模板中提供了命令、过滤器等，非常方便、快捷地操作DOM</li>
</ul>
</li>
</ol>
</li>
</ol>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="https://leiwensu.github.io/wills/wills/2017/01/03/flex-layouts/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="Wills">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/wills/images/avatar2.png">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="Wills's blogs">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="Wills's blogs" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/wills/2017/01/03/flex-layouts/" itemprop="url">
                  flex布局
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-01-03T13:17:31+08:00">
                2017-01-03
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/wills/categories/前端开发/" itemprop="url" rel="index">
                    <span itemprop="name">前端开发</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <a href="/wills/2017/01/03/flex-layouts/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2017/01/03/flex-layouts/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>任何一个盒子都可以用以下方式指定为flex布局：<br><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="selector-class">.box</span>&#123;</div><div class="line">  <span class="attribute">display</span>: flex;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>如果盒子是行内元素，也可以用以下方式指定：<br><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="selector-class">.box</span>&#123;</div><div class="line">  <span class="attribute">display</span>: inline-flex;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>webkit内核的浏览器需加上-webkit前缀：<br><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="selector-class">.box</span>&#123;</div><div class="line">   <span class="attribute">display</span>: -webkit-flex;</div><div class="line">   <span class="attribute">display</span>: flex;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>弹性布局的容器有6个属性，分别是：</p>
<ol>
<li>flex-direction: row|row-reverse|column|column-reverse </li>
<li>flex-wrap: nowrap|wrap|wrap-reverse; </li>
<li>flex-flow: <flex-direction> || <flex-wrap>;</flex-wrap></flex-direction></li>
<li>justify-content:  flex-start | flex-end | center | space-between | space-around;</li>
<li>align-items: flex-start | flex-end | center | baseline | stretch; </li>
<li>align-content: flex-start | flex-end | center | space-between | space-around | stretch;</li>
</ol>
<p>flex-direction: 控制主轴的方向(即项目的排列方向)<br><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">row</span>（默认值）：主轴为水平方向，起点在左端。</div><div class="line"><span class="selector-tag">row-reverse</span>：主轴为水平方向，起点在右端。</div><div class="line"><span class="selector-tag">column</span>：主轴为垂直方向，起点在上沿。</div><div class="line"><span class="selector-tag">column-reverse</span>：主轴为垂直方向，起点在下沿。</div></pre></td></tr></table></figure></p>
<p>flex-wrap: 默认情况下，项目都排在一条线（又称”轴线”）上。flex-wrap属性定义，如果一条轴线排不下，如何换行。<br><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">nowrap</span>（默认）：不换行。</div><div class="line"><span class="selector-tag">wrap</span>：换行，第一行在上方。</div><div class="line"><span class="selector-tag">wrap-reverse</span>：换行，第一行在下方。</div><div class="line"><span class="selector-tag">justify-content</span>: 定义了项目在主轴上的对齐方式。</div></pre></td></tr></table></figure></p>
<p>flex-flow: flex-flow属性是flex-direction属性和flex-wrap属性的简写形式，默认值为row nowrap。</p>
<p>justify-content: 定义了项目在主轴上的对齐方式。<br><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">flex-start</span>（默认值）：左对齐</div><div class="line"><span class="selector-tag">flex-end</span>：右对齐</div><div class="line"><span class="selector-tag">center</span>： 居中</div><div class="line"><span class="selector-tag">space-between</span>：两端对齐，项目之间的间隔都相等。</div><div class="line"><span class="selector-tag">space-around</span>：每个项目两侧的间隔相等。所以，项目之间的间隔比项目与边框的间隔大一倍。</div></pre></td></tr></table></figure></p>
<p>align-items: 定义项目在交叉轴上如何对齐。<br><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">flex-start</span>：交叉轴的起点对齐。</div><div class="line"><span class="selector-tag">flex-end</span>：交叉轴的终点对齐。</div><div class="line"><span class="selector-tag">center</span>：交叉轴的中点对齐。</div><div class="line"><span class="selector-tag">baseline</span>: 项目的第一行文字的基线对齐。</div><div class="line"><span class="selector-tag">stretch</span>（默认值）：如果项目未设置高度或设为<span class="selector-tag">auto</span>，将占满整个容器的高度。</div></pre></td></tr></table></figure></p>
<p>align-content: 定义了多根轴线的对齐方式。如果项目只有一根轴线，该属性不起作用。<br><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">flex-start</span>：与交叉轴的起点对齐。</div><div class="line"><span class="selector-tag">flex-end</span>：与交叉轴的终点对齐。</div><div class="line"><span class="selector-tag">center</span>：与交叉轴的中点对齐。</div><div class="line"><span class="selector-tag">space-between</span>：与交叉轴两端对齐，轴线之间的间隔平均分布。</div><div class="line"><span class="selector-tag">space-around</span>：每根轴线两侧的间隔都相等。所以，轴线之间的间隔比轴线与边框的间隔大一倍。</div><div class="line"><span class="selector-tag">stretch</span>（默认值）：轴线占满整个交叉轴。</div></pre></td></tr></table></figure></p>
<p>设置到项目上的6个特性：</p>
<ol>
<li>order</li>
<li>flex-grow</li>
<li>flex-shrink</li>
<li>flex-basis</li>
<li>flex</li>
<li>align-self</li>
</ol>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="https://leiwensu.github.io/wills/wills/2016/12/28/note02/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="Wills">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/wills/images/avatar2.png">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="Wills's blogs">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="Wills's blogs" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/wills/2016/12/28/note02/" itemprop="url">
                  常用方法存档
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-12-28T10:47:41+08:00">
                2016-12-28
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/wills/categories/前端开发/" itemprop="url" rel="index">
                    <span itemprop="name">前端开发</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <a href="/wills/2016/12/28/note02/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/12/28/note02/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <ol>
<li>获取url查询字符串</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/**</span></div><div class="line"> * 获取url查询字符串</div><div class="line"> * @param   &#123;[[Type]]&#125; name url查询参数</div><div class="line"> * @returns &#123;[[Type]]&#125; 查询参数值</div><div class="line"> */</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">getQueryString</span>(<span class="params">name</span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> reg = <span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">'(^|&amp;)'</span> + name + <span class="string">'=([^&amp;]*)(&amp;|$)'</span>, <span class="string">'i'</span>);</div><div class="line">    <span class="keyword">var</span> r = <span class="built_in">window</span>.location.search.substr(<span class="number">1</span>).match(reg);</div><div class="line">    <span class="keyword">if</span> (r != <span class="literal">null</span>) &#123;</div><div class="line">        <span class="keyword">return</span> <span class="built_in">decodeURI</span>(r[<span class="number">2</span>]);</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="literal">null</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<ol>
<li>多行溢出省略号显示</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/* </span></div><div class="line"> * 处理过长的字符串，截取并添加省略号 </div><div class="line"> * 注：半角长度为1，全角长度为2 </div><div class="line"> *  </div><div class="line"> * pStr:字符串 </div><div class="line"> * pLen:截取长度 </div><div class="line"> *  </div><div class="line"> * return: 截取后的字符串 </div><div class="line"> */  </div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">autoAddEllipsis</span>(<span class="params">pStr, pLen</span>) </span>&#123;  </div><div class="line">    <span class="keyword">if</span>(<span class="keyword">typeof</span>(pStr)==<span class="string">"undefined"</span> || pStr==<span class="string">""</span>)&#123;</div><div class="line">	 <span class="keyword">return</span> <span class="string">""</span>; </div><div class="line">	&#125;</div><div class="line">    <span class="keyword">var</span> _ret = cutString(pStr, pLen);  </div><div class="line">    <span class="keyword">var</span> _cutFlag = _ret.cutflag;  </div><div class="line">    <span class="keyword">var</span> _cutStringn = _ret.cutstring;  </div><div class="line">  </div><div class="line">    <span class="keyword">if</span> (<span class="string">"1"</span> == _cutFlag) &#123;  </div><div class="line">        <span class="keyword">return</span> _cutStringn + <span class="string">"..."</span>;  </div><div class="line">    &#125; <span class="keyword">else</span> &#123;  </div><div class="line">        <span class="keyword">return</span> _cutStringn;  </div><div class="line">    &#125;  </div><div class="line">&#125;  </div><div class="line">  </div><div class="line"><span class="comment">/* </span></div><div class="line"> * 取得指定长度的字符串 </div><div class="line"> * 注：半角长度为1，全角长度为2 </div><div class="line"> *  </div><div class="line"> * pStr:字符串 </div><div class="line"> * pLen:截取长度 </div><div class="line"> *  </div><div class="line"> * return: 截取后的字符串 </div><div class="line"> */  </div><div class="line"><span class="function"><span class="keyword">function</span>  <span class="title">cutString</span>(<span class="params">pStr, pLen</span>) </span>&#123;  </div><div class="line">  </div><div class="line">    <span class="comment">// 原字符串长度  </span></div><div class="line">    <span class="keyword">var</span> _strLen = pStr.length;  </div><div class="line">  </div><div class="line">    <span class="keyword">var</span> _tmpCode;  </div><div class="line">  </div><div class="line">    <span class="keyword">var</span> _cutString;  </div><div class="line">  </div><div class="line">    <span class="comment">// 默认情况下，返回的字符串是原字符串的一部分  </span></div><div class="line">    <span class="keyword">var</span> _cutFlag = <span class="string">"1"</span>;  </div><div class="line">  </div><div class="line">    <span class="keyword">var</span> _lenCount = <span class="number">0</span>;  </div><div class="line">  </div><div class="line">    <span class="keyword">var</span> _ret = <span class="literal">false</span>;  </div><div class="line">  </div><div class="line">    <span class="keyword">if</span> (_strLen &lt;= pLen/<span class="number">2</span>) &#123;  </div><div class="line">        _cutString = pStr;  </div><div class="line">        _ret = <span class="literal">true</span>;  </div><div class="line">    &#125;  </div><div class="line">  </div><div class="line">    <span class="keyword">if</span> (!_ret) &#123;  </div><div class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; _strLen ; i++ ) &#123;  </div><div class="line">            <span class="keyword">if</span> (isFull(pStr.charAt(i))) &#123;  </div><div class="line">                _lenCount += <span class="number">2</span>;  </div><div class="line">            &#125; <span class="keyword">else</span> &#123;  </div><div class="line">                _lenCount += <span class="number">1</span>;  </div><div class="line">            &#125;  </div><div class="line">  </div><div class="line">            <span class="keyword">if</span> (_lenCount &gt; pLen) &#123;  </div><div class="line">                _cutString = pStr.substring(<span class="number">0</span>, i);  </div><div class="line">                _ret = <span class="literal">true</span>;  </div><div class="line">                <span class="keyword">break</span>;  </div><div class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (_lenCount == pLen) &#123;  </div><div class="line">                _cutString = pStr.substring(<span class="number">0</span>, i + <span class="number">1</span>);  </div><div class="line">                _ret = <span class="literal">true</span>;  </div><div class="line">                <span class="keyword">break</span>;  </div><div class="line">            &#125;  </div><div class="line">        &#125;  </div><div class="line">    &#125;  </div><div class="line">      </div><div class="line">    <span class="keyword">if</span> (!_ret) &#123;  </div><div class="line">        _cutString = pStr;  </div><div class="line">        _ret = <span class="literal">true</span>;  </div><div class="line">    &#125;  </div><div class="line">  </div><div class="line">    <span class="keyword">if</span> (_cutString.length == _strLen) &#123;  </div><div class="line">        _cutFlag = <span class="string">"0"</span>;  </div><div class="line">    &#125;  </div><div class="line">  </div><div class="line">    <span class="keyword">return</span> &#123;<span class="string">"cutstring"</span>:_cutString, <span class="string">"cutflag"</span>:_cutFlag&#125;;  </div><div class="line">&#125;  </div><div class="line">  </div><div class="line"><span class="comment">/* </span></div><div class="line"> * 判断是否为全角 </div><div class="line"> *  </div><div class="line"> * pChar:长度为1的字符串 </div><div class="line"> * return: true:全角 </div><div class="line"> *          false:半角 </div><div class="line"> */  </div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">isFull</span> (<span class="params">pChar</span>) </span>&#123;  </div><div class="line">    <span class="keyword">if</span> ((pChar.charCodeAt(<span class="number">0</span>) &gt; <span class="number">128</span>)) &#123;  </div><div class="line">        <span class="keyword">return</span> <span class="literal">true</span>;  </div><div class="line">    &#125; <span class="keyword">else</span> &#123;  </div><div class="line">        <span class="keyword">return</span> <span class="literal">false</span>;  </div><div class="line">    &#125;  </div><div class="line">&#125;</div></pre></td></tr></table></figure>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="https://leiwensu.github.io/wills/wills/2016/12/20/nodejs03/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="Wills">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/wills/images/avatar2.png">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="Wills's blogs">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="Wills's blogs" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/wills/2016/12/20/nodejs03/" itemprop="url">
                  NodeJs课程笔记-NodeJs第三天笔记
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-12-20T10:07:00+08:00">
                2016-12-20
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/wills/categories/后端开发/" itemprop="url" rel="index">
                    <span itemprop="name">后端开发</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <a href="/wills/2016/12/20/nodejs03/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/12/20/nodejs03/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>一、Express框架<br>Express框架是后台的Node框架，所以和jQuery、zepto、yui、bootstrap都不一个东西。<br>Express在后台的受欢迎的程度，和jQuery一样，就是企业的事实上的标准。</p>
<p>● 原生Node开发，会发现有很多问题。比如：<br>    ■ 呈递静态页面很不方便，需要处理每个HTTP请求，还要考虑304问题<br>    ■ 路由处理代码不直观清晰，需要写很多正则表达式和字符串函数<br>    ■ 不能集中精力写业务，要考虑很多其他的东西</p>
<p>我们自己可以把第一天的作业，就是那个静态文件服务给封装成为模块。封装的越多，就自己做出了类似Express的东西。</p>
<p>● EXPRESS的哲学是在你的想法和服务器之间充当薄薄的一层。这并不意味着他不够健壮，或者没有足够的有用特性，而是尽量少干预你，让你充分表达自己的思想，同时提供一些有用的东西。</p>
<p>英语官网：<a href="http://expressjs.com/" target="_blank" rel="external">http://expressjs.com/</a><br>中文官网：<a href="http://www.expressjs.com.cn/" target="_blank" rel="external">http://www.expressjs.com.cn/</a></p>
<p>整体感知，Express框架。<br>安装Express框架，就是使用npm的命令。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm install --save express</div></pre></td></tr></table></figure></p>
<p>–save参数，表示自动修改package.json文件，自动添加依赖项。</p>
<p>路由能力：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> express = <span class="built_in">require</span>(<span class="string">"express"</span>);</div><div class="line"><span class="keyword">var</span> app = express();</div><div class="line">app.get(<span class="string">"/"</span>,<span class="function"><span class="keyword">function</span>(<span class="params">req,res</span>)</span>&#123;</div><div class="line">    res.send(<span class="string">"你好"</span>);</div><div class="line">&#125;);</div><div class="line">app.get(<span class="string">"/haha"</span>,<span class="function"><span class="keyword">function</span>(<span class="params">req,res</span>)</span>&#123;</div><div class="line">    res.send(<span class="string">"这是haha页面，哈哈哈哈哈哈"</span>);</div><div class="line">&#125;);</div><div class="line"> </div><div class="line">app.get(<span class="regexp">/^\/student\/([\d]&#123;10&#125;)$/</span>,<span class="function"><span class="keyword">function</span>(<span class="params">req,res</span>)</span>&#123;</div><div class="line">    res.send(<span class="string">"学生信息，学号"</span> + req.params[<span class="number">0</span>]);</div><div class="line">&#125;);</div><div class="line"> </div><div class="line">app.get(<span class="string">"/teacher/:gonghao"</span>,<span class="function"><span class="keyword">function</span>(<span class="params">req,res</span>)</span>&#123;</div><div class="line">res.send(<span class="string">"老师信息，工号"</span> + req.params.gonghao);</div><div class="line">&#125;);</div><div class="line"> </div><div class="line">app.listen(<span class="number">3000</span>);</div></pre></td></tr></table></figure></p>
<p>静态文件伺服能力：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">app.use(express.static(<span class="string">"./public"</span>));</div></pre></td></tr></table></figure></p>
<p>模板引擎：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="number">1</span>   <span class="keyword">var</span> express = <span class="built_in">require</span>(<span class="string">"express"</span>);</div><div class="line"><span class="number">2</span>   </div><div class="line"><span class="number">3</span>   <span class="keyword">var</span> app = express();</div><div class="line"><span class="number">4</span>   </div><div class="line"><span class="number">5</span>   app.set(<span class="string">"view engine"</span>,<span class="string">"ejs"</span>);</div><div class="line"><span class="number">6</span>   </div><div class="line"><span class="number">7</span>   app.get(<span class="string">"/"</span>,<span class="function"><span class="keyword">function</span>(<span class="params">req,res</span>)</span>&#123;</div><div class="line"><span class="number">8</span>       res.render(<span class="string">"haha"</span>,&#123;</div><div class="line"><span class="number">9</span>           <span class="string">"news"</span> : [<span class="string">"我是小新闻啊"</span>,<span class="string">"我也是啊"</span>,<span class="string">"哈哈哈哈"</span>]</div><div class="line"><span class="number">10</span>      &#125;);</div><div class="line"><span class="number">11</span>  &#125;);</div><div class="line"><span class="number">12</span>  </div><div class="line"><span class="number">13</span>  app.listen(<span class="number">3000</span>);</div></pre></td></tr></table></figure></p>
<p>我们学习的是Express4.X，和Express3.X差别非常大。<br>二、路由<br>当用get请求访问一个网址的时候，做什么事情：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="number">1</span>   app.get(<span class="string">"网址"</span>,<span class="function"><span class="keyword">function</span>(<span class="params">req,res</span>)</span>&#123;</div><div class="line"><span class="number">2</span>       </div><div class="line"><span class="number">3</span>   &#125;);</div></pre></td></tr></table></figure></p>
<p>当用post访问一个网址的时候，做什么事情：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="number">1</span>   app.post(<span class="string">"网址"</span>,<span class="function"><span class="keyword">function</span>(<span class="params">req,res</span>)</span>&#123;</div><div class="line"><span class="number">2</span>       </div><div class="line"><span class="number">3</span>   &#125;);</div></pre></td></tr></table></figure></p>
<p>如果想处理这个网址的任何method的请求，那么写all<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="number">1</span>   app.all(<span class="string">"/"</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line"><span class="number">2</span>       </div><div class="line"><span class="number">3</span>   &#125;);</div></pre></td></tr></table></figure></p>
<p>这里的网址，不分大小写，也就是说，你路由是<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="number">1</span>   app.get(<span class="string">"/AAb"</span>,<span class="function"><span class="keyword">function</span>(<span class="params">req,res</span>)</span>&#123;</div><div class="line"><span class="number">2</span>       res.send(<span class="string">"你好"</span>);</div><div class="line"><span class="number">3</span>   &#125;);</div></pre></td></tr></table></figure></p>
<p>实际上小写的访问也行。</p>
<p>所有的GET参数，? 后面的都已经被忽略。 锚点#也被忽略<br>你路由到/a ， 实际/a?id=2&amp;sex=nan 也能被处理。</p>
<p>正则表达式可以被使用。正则表达式中，未知部分用圆括号分组，然后可以用req.params[0]、[1]得到。<br>req.params类数组对象。<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="number">1</span>   app.get(<span class="regexp">/^\/student\/([\d]&#123;10&#125;)$/</span>,<span class="function"><span class="keyword">function</span>(<span class="params">req,res</span>)</span>&#123;</div><div class="line"><span class="number">2</span>       res.send(<span class="string">"学生信息，学号"</span> + req.params[<span class="number">0</span>]);</div><div class="line"><span class="number">3</span>   &#125;);</div></pre></td></tr></table></figure></p>
<p>冒号是更推荐的写法。<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"><span class="number">1</span>   app.get(<span class="string">"/student/:id"</span>,<span class="function"><span class="keyword">function</span>(<span class="params">req,res</span>)</span>&#123;</div><div class="line"><span class="number">2</span>       <span class="keyword">var</span> id = req.params[<span class="string">"id"</span>];</div><div class="line"><span class="number">3</span>       <span class="keyword">var</span> reg= <span class="regexp">/^[\d]&#123;6&#125;$/</span>;   <span class="comment">//正则验证</span></div><div class="line"><span class="number">4</span>       <span class="keyword">if</span>(reg.test(id))&#123;</div><div class="line"><span class="number">5</span>           res.send(id);</div><div class="line"><span class="number">6</span>       &#125;<span class="keyword">else</span>&#123;</div><div class="line"><span class="number">7</span>           res.send(<span class="string">"请检查格式"</span>);</div><div class="line"><span class="number">8</span>       &#125;</div><div class="line"><span class="number">9</span>   &#125;);</div><div class="line"><span class="string">``</span><span class="string">` </span></div><div class="line"></div><div class="line">表单可以自己提交到自己上。</div><div class="line">`<span class="string">``</span>js </div><div class="line"><span class="number">1</span>   app.get(<span class="string">"/"</span>,<span class="function"><span class="keyword">function</span>(<span class="params">req,res</span>)</span>&#123;</div><div class="line"><span class="number">2</span>       res.render(<span class="string">"form"</span>);</div><div class="line"><span class="number">3</span>   &#125;);</div><div class="line"><span class="number">4</span>   </div><div class="line"><span class="number">5</span>   app.post(<span class="string">"/"</span>,<span class="function"><span class="keyword">function</span>(<span class="params">req,res</span>)</span>&#123;</div><div class="line"><span class="number">6</span>       <span class="comment">//将数据添加进入数据库</span></div><div class="line"><span class="number">7</span>       res.send(<span class="string">"成功"</span>);</div><div class="line"><span class="number">8</span>   &#125;);</div></pre></td></tr></table></figure></p>
<p>适合进行 RESTful路由设计。简单说，就是一个路径，但是http method不同，对这个页面的使用也不同。<br>/student/345345</p>
<p>get  读取学生信息<br>add  添加学生信息<br>delete  删除学生新</p>
<p>三、中间件<br>如果我的的get、post回调函数中，没有next参数，那么就匹配上第一个路由，就不会往下匹配了。<br>如果想往下匹配的话，那么需要写next()<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="number">1</span>   app.get(<span class="string">"/"</span>,<span class="function"><span class="keyword">function</span>(<span class="params">req,res,next</span>)</span>&#123;</div><div class="line"><span class="number">2</span>       <span class="built_in">console</span>.log(<span class="string">"1"</span>);</div><div class="line"><span class="number">3</span>       next();</div><div class="line"><span class="number">4</span>   &#125;);</div><div class="line"><span class="number">5</span>   </div><div class="line"><span class="number">6</span>   app.get(<span class="string">"/"</span>,<span class="function"><span class="keyword">function</span>(<span class="params">req,res</span>)</span>&#123;</div><div class="line"><span class="number">7</span>       <span class="built_in">console</span>.log(<span class="string">"2"</span>);</div><div class="line"><span class="number">8</span>   &#125;);</div></pre></td></tr></table></figure></p>
<p>下面两个路由，感觉没有关系：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="number">1</span>   app.get(<span class="string">"/:username/:id"</span>,<span class="function"><span class="keyword">function</span>(<span class="params">req,res</span>)</span>&#123;</div><div class="line"><span class="number">2</span>       <span class="built_in">console</span>.log(<span class="string">"1"</span>);</div><div class="line"><span class="number">3</span>       res.send(<span class="string">"用户信息"</span> + req.params.username);</div><div class="line"><span class="number">4</span>   &#125;);</div><div class="line"><span class="number">5</span>   </div><div class="line"><span class="number">6</span>   app.get(<span class="string">"/admin/login"</span>,<span class="function"><span class="keyword">function</span>(<span class="params">req,res</span>)</span>&#123;</div><div class="line"><span class="number">7</span>       <span class="built_in">console</span>.log(<span class="string">"2"</span>);</div><div class="line"><span class="number">8</span>       res.send(<span class="string">"管理员登录"</span>);</div><div class="line"><span class="number">9</span>   &#125;);</div></pre></td></tr></table></figure></p>
<p>但是实际上冲突了，因为admin可以当做用户名 login可以当做id。</p>
<p>解决方法1：交换位置。 也就是说，express中所有的路由（中间件）的顺序至关重要。<br>匹配上第一个，就不会往下匹配了。 具体的往上写，抽象的往下写。<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="number">1</span>   app.get(<span class="string">"/admin/login"</span>,<span class="function"><span class="keyword">function</span>(<span class="params">req,res</span>)</span>&#123;</div><div class="line"><span class="number">2</span>       <span class="built_in">console</span>.log(<span class="string">"2"</span>);</div><div class="line"><span class="number">3</span>       res.send(<span class="string">"管理员登录"</span>);</div><div class="line"><span class="number">4</span>   &#125;);</div><div class="line"><span class="number">5</span>   </div><div class="line"><span class="number">6</span>   app.get(<span class="string">"/:username/:id"</span>,<span class="function"><span class="keyword">function</span>(<span class="params">req,res</span>)</span>&#123;</div><div class="line"><span class="number">7</span>       <span class="built_in">console</span>.log(<span class="string">"1"</span>);</div><div class="line"><span class="number">8</span>       res.send(<span class="string">"用户信息"</span> + req.params.username);</div><div class="line"><span class="number">9</span>   &#125;);</div></pre></td></tr></table></figure></p>
<p>解决方法2：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="number">1</span>   app.get(<span class="string">"/:username/:id"</span>,<span class="function"><span class="keyword">function</span>(<span class="params">req,res,next</span>)</span>&#123;</div><div class="line"><span class="number">2</span>       <span class="keyword">var</span> username = req.params.username;</div><div class="line"><span class="number">3</span>       <span class="comment">//检索数据库，如果username不存在，那么next()</span></div><div class="line"><span class="number">4</span>       <span class="keyword">if</span>(检索数据库)&#123;</div><div class="line"><span class="number">5</span>           <span class="built_in">console</span>.log(<span class="string">"1"</span>);</div><div class="line"><span class="number">6</span>           res.send(<span class="string">"用户信息"</span>);</div><div class="line"><span class="number">7</span>       &#125;<span class="keyword">else</span>&#123;</div><div class="line"><span class="number">8</span>           next();</div><div class="line"><span class="number">9</span>       &#125;</div><div class="line"><span class="number">10</span>  &#125;);</div><div class="line"><span class="number">11</span>  </div><div class="line"><span class="number">12</span>  app.get(<span class="string">"/admin/login"</span>,<span class="function"><span class="keyword">function</span>(<span class="params">req,res</span>)</span>&#123;</div><div class="line"><span class="number">13</span>      <span class="built_in">console</span>.log(<span class="string">"2"</span>);</div><div class="line"><span class="number">14</span>      res.send(<span class="string">"管理员登录"</span>);</div><div class="line"><span class="number">15</span>  &#125;);</div></pre></td></tr></table></figure></p>
<p>路由get、post这些东西，就是中间件，中间件讲究顺序，匹配上第一个之后，就不会往后匹配了。next函数才能够继续往后匹配。</p>
<p>app.use()也是一个中间件。与get、post不同的是，他的网址不是精确匹配的。而是能够有小文件夹拓展的。<br>比如网址：  <a href="http://127.0.0.1:3000/admin/aa/bb/cc/dd" target="_blank" rel="external">http://127.0.0.1:3000/admin/aa/bb/cc/dd</a><br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="number">1</span>   app.use(<span class="string">"/admin"</span>,<span class="function"><span class="keyword">function</span>(<span class="params">req,res</span>)</span>&#123; </div><div class="line"><span class="number">2</span>       res.write(req.originalUrl + <span class="string">"\n"</span>);   <span class="comment">//    /admin/aa/bb/cc/dd</span></div><div class="line"><span class="number">3</span>       res.write(req.baseUrl + <span class="string">"\n"</span>);  <span class="comment">//   /admin</span></div><div class="line"><span class="number">4</span>       res.write(req.path + <span class="string">"\n"</span>);   <span class="comment">//    /aa/bb/cc/dd</span></div><div class="line"><span class="number">5</span>       res.end(<span class="string">"你好"</span>);</div><div class="line"><span class="number">6</span>   &#125;);</div></pre></td></tr></table></figure></p>
<p>如果写一个/<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="number">1</span>   <span class="comment">//当你不写路径的时候，实际上就相当于"/"，就是所有网址</span></div><div class="line"><span class="number">2</span>   app.use(<span class="function"><span class="keyword">function</span>(<span class="params">req,res,next</span>)</span>&#123;</div><div class="line"><span class="number">3</span>       <span class="built_in">console</span>.log(<span class="keyword">new</span> <span class="built_in">Date</span>());</div><div class="line"><span class="number">4</span>       next();</div><div class="line"><span class="number">5</span>   &#125;);</div></pre></td></tr></table></figure></p>
<p>app.use()就给了我们增加一些特定功能的便利场所。<br>实际上app.use()的东西，基本上都从第三方能得到。</p>
<p>● 大多数情况下，渲染内容用res.render()，将会根据views中的模板文件进行渲染。如果不想使用views文件夹，想自己设置文件夹名字，那么app.set(“views”,”aaaa”);<br>● 如果想写一个快速测试页，当然可以使用res.send()。这个函数将根据内容，自动帮我们设置了Content-Type头部和200状态码。send()只能用一次，和end一样。和end不一样在哪里？能够自动设置MIME类型。<br>● 如果想使用不同的状态码，可以：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">res.status(<span class="number">404</span>).send(<span class="string">'Sorry, we cannot find that!'</span>);</div></pre></td></tr></table></figure></p>
<p>● 如果想使用不同的Content-Type，可以：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">res.set(<span class="string">'Content-Type'</span>, <span class="string">'text/html'</span>);</div></pre></td></tr></table></figure></p>
<p>四、GET请求和POST请求的参数<br>● GET请求的参数在URL中，在原生Node中，需要使用url模块来识别参数字符串。在Express中，不需要使用url模块了。可以直接使用req.query对象。<br>● POST请求在express中不能直接获得，必须使用body-parser模块。使用后，将可以用req.body得到参数。但是如果表单中含有文件上传，那么还是需要使用formidable模块。</p>
<p>Node中全是回调函数，所以我们自己封装的函数，里面如果有异步的方法，比如I/O，那么就要用回调函数的方法封装。</p>
<p>错误：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="number">1</span>   res.reder(<span class="string">"index"</span>,&#123;</div><div class="line"><span class="number">2</span>       <span class="string">"name"</span> : student.getDetailById(<span class="number">234234</span>).name</div><div class="line"><span class="number">3</span>   &#125;);</div></pre></td></tr></table></figure></p>
<p>正确:<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="number">6</span>   </div><div class="line"><span class="number">7</span>   student.getDetailByXueHao(<span class="number">234234</span>,<span class="function"><span class="keyword">function</span>(<span class="params">detail</span>)</span>&#123;</div><div class="line"><span class="number">8</span>       res.render(<span class="string">"index"</span>,&#123;</div><div class="line"><span class="number">9</span>           <span class="string">"name"</span> : detail.name</div><div class="line"><span class="number">10</span>      &#125;)</div><div class="line"><span class="number">11</span>  &#125;);</div></pre></td></tr></table></figure></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="https://leiwensu.github.io/wills/wills/2016/12/20/nodejs02/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="Wills">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/wills/images/avatar2.png">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="Wills's blogs">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="Wills's blogs" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/wills/2016/12/20/nodejs02/" itemprop="url">
                  NodeJs课程笔记-NodeJs第二天笔记
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-12-20T09:38:21+08:00">
                2016-12-20
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/wills/categories/后端开发/" itemprop="url" rel="index">
                    <span itemprop="name">后端开发</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <a href="/wills/2016/12/20/nodejs02/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/12/20/nodejs02/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>一、复习<br>复习：<br>Node.js开发服务器，数据、路由。本地关心的效果，交互；<br>Node.js实际上是极客开发出的一个小玩具，不是银弹。有着别人不具备的怪异特点：<br>单线程、Non-blocking I/O、Event Driven。 实际上是一个特点。<br>首先，Node不为每个用户开辟一个线程，所以非常极端的选择了单线程。单线程，要照顾所有的用户，那么就必须有非阻塞I/O，否则一个人的I/O就把别人、自己都阻塞了。一旦有非阻塞I/O，一个人如果I/O去了，就会放弃CPU的使用权，换成另一个人使用CPU（或者执行此人后面的语句）。所以CPU的利用率100%。第一个人I/O结束了，就要用事件来通知线程，执行回调函数。此时必须有事件环，就有一个排队调度机制。Node中有超过半数的C++代码，在搭建事件环。</p>
<p>Node.js和别的老牌3P不一样：<br>1） 没有自己的语法，使用V8引擎，所以就是JS。V8引擎解析JS的，效率非常高，并且V8中很多东西都是异步的。Node就是将V8中的一些功能自己没有重写（别人做了，自己就站在巨人肩膀上），移植到了服务器上。<br>2） 没有web容器，就是安装配置完成之后，没有一个根目录。</p>
<p>命令提示符所在路径太重要了，因为程序中的所有相对路径”./”，都是相对这个命令提示符路径的，而不是相对于js文件自己。<br>系统中，80端口，就是默认http端口。所以当没有端口号的时候，就是80端口。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">server.listen(<span class="number">80</span>,<span class="string">"127.0.0.1"</span>);</div></pre></td></tr></table></figure>
<p>二、模块</p>
<p>● 在Node.js中，以模块为单位划分所有功能，并且提供了一个完整的模块加载机制，这时的我们可以将应用程序划分为各个不同的部分。<br>不可能用一个js文件去写全部的业务。肯定要有MVC。</p>
<p>● 狭义的说，每一个JavaScript文件都是一个模块；而多个JavaScript文件之间可以相互require，他们共同实现了一个功能，他们整体对外，又称为一个广义上的模块。</p>
<p>● Node.js中，一个JavaScript文件中定义的变量、函数，都只在这个文件内部有效。当需要从此JS文件外部引用这些变量、函数时，必须使用exports对象进行暴露。使用者要用require()命令引用这个JS文件。</p>
<p>foo.js文件中的代码：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> msg = <span class="string">"你好"</span>;</div><div class="line">exports.msg = msg;</div></pre></td></tr></table></figure>
<p>msg这个变量，是一个js文件内部才有作用域的变量。<br>如果别人想用这个变量，那么就要用exports进行暴露。</p>
<p>使用者：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> foo = <span class="built_in">require</span>(<span class="string">"./test/foo.js"</span>);</div><div class="line"><span class="built_in">console</span>.log(foo.msg);</div></pre></td></tr></table></figure></p>
<p>使用者用foo来接收exports对象，也就是说，这里的foo变量，就是文件中的exports变量。</p>
<p>● 一个JavaScript文件，可以向外exports无数个变量、函数。但是require的时候，仅仅需要require这个JS文件一次。使用的它的变量、函数的时候，用点语法即可。所以，无形之中，增加了一个顶层命名空间。</p>
<p>js文件中，可以用exports暴露很多东西，比如函数、变量。<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> msg = <span class="string">"你好"</span>;</div><div class="line"><span class="keyword">var</span> info = <span class="string">"呵呵"</span>;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">showInfo</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(info);</div><div class="line">&#125; </div><div class="line">exports.msg = msg;</div><div class="line">exports.info = info;</div><div class="line">exports.showInfo = showInfo;</div></pre></td></tr></table></figure></p>
<p>在使用者中，只需要require一次。<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> foo = <span class="built_in">require</span>(<span class="string">"./test/foo.js"</span>);</div></pre></td></tr></table></figure></p>
<p>相当于增加了顶层变量。所有的函数、变量都要从这个顶层变量走：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">console</span>.log(foo.msg);</div><div class="line"><span class="built_in">console</span>.log(foo.info);</div><div class="line">foo.showInfo();</div></pre></td></tr></table></figure></p>
<p>Node中，js文件和js文件，就是被一个个exports和require构建成为网状的。<br>不是靠html文件统一在一起的。</p>
<p>● 可以将一个JavaScript文件中，描述一个类。用<br>module.export = 构造函数名;<br>   的方式向外暴露一个类。</p>
<p>也就是说，js文件和js文件之间有两种合作的模式：<br>1） 某一个js文件中，提供了函数，供别人使用。 只需要暴露函数就行了；<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">exports.msg=msg;</div></pre></td></tr></table></figure></p>
<p>2） 某一个js文件，描述了一个类。<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">module</span>.exports = People;</div></pre></td></tr></table></figure></p>
<p>● 如果在require命令中，这么写:<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> foo = <span class="built_in">require</span>(<span class="string">"foo.js"</span>);   <span class="comment">//没有写./，所以不是一个相对路径。是一个特殊的路径</span></div></pre></td></tr></table></figure></p>
<p>那么Node.js将该文件视为node_modules目录下的一个文件</p>
<p>● node_modules文件夹并不一定在同级目录里面，在任何直接祖先级目录中，都可以。甚至可以放到NODE_PATH环境变量的文件夹中。这样做的好处稍后你将知道：分享项目的时候，不需要带着modules一起给别人。</p>
<p>● 我们可以使用文件夹来管理模块，比如<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> bar = <span class="built_in">require</span>(<span class="string">"bar"</span>);</div></pre></td></tr></table></figure></p>
<p>那么Node.js将会去寻找node_modules目录下的bar文件夹中的index.js去执行。</p>
<p>每一个模块文件夹中，推荐都写一个package.json文件，这个文件的名字不能改。node将自动读取里面的配置。有一个main项，就是入口文件：<br><figure class="highlight json"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">    <span class="attr">"name"</span>: <span class="string">"kaoladebar"</span>,</div><div class="line">    <span class="attr">"version"</span>: <span class="string">"1.0.1"</span>,</div><div class="line">    <span class="attr">"main"</span> : <span class="string">"app.js"</span></div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>package.json文件，要放到模块文件夹的根目录去。</p>
<p>我们刚才学习了，模块就是一些功能的封装，所以一些成熟的、经常使用的功能，都有人封装成为了模块。并且放到了社区中，供人免费下载。<br>这个伟大的社区，叫做npm。 也是一个工具名字  node package management<br><a href="https://www.npmjs.com/" target="_blank" rel="external">https://www.npmjs.com/</a></p>
<p>去社区搜索需求，然后点进去，看api。<br>如果要配置一个模块，那么直接在cmd使用</p>
<p>npm install 模块名字</p>
<p>就可以安装。 模块名字全球唯一。<br>安装的时候，要注意，命令提示符的所在位置。</p>
<p>1.我们的依赖包，可能在随时更新，我们永远想保持更新，或者某持某一个版本；<br>2.项目越来越大的时候，给别人看的时候，没有必要再次共享我们引用的第三方模块。</p>
<p>我们可以用package.json来管理依赖。<br>在cmd中，使用npm init可以初始化一个package.json文件，用回答问题的方式生成一个新的package.json文件。<br>使用</p>
<p>npm install 将能安装所有依赖。<br>npm也有文档，这是package.json的介绍：<br><a href="https://docs.npmjs.com/files/package.json" target="_blank" rel="external">https://docs.npmjs.com/files/package.json</a></p>
<p>require()别的js文件的时候，将执行那个js文件。</p>
<p>注意：<br>require()中的路径，是从当前这个js文件出发，找到别人。而fs是从命令提示符找到别人。<br>所以，桌面上有一个a.js， test文件夹中有b.js、c.js、1.txt<br>a要引用b：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> b = <span class="built_in">require</span>(“./test/b.js”);</div></pre></td></tr></table></figure></p>
<p>b要引用c：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="number">1</span>   <span class="keyword">var</span> b = <span class="built_in">require</span>(“./c.js”);</div></pre></td></tr></table></figure></p>
<p>但是，fs等其他的模块用到路径的时候，都是相对于cmd命令光标所在位置。<br>所以，在b.js中想读1.txt文件，推荐用绝对路径：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">fs.readFile(__dirname + <span class="string">"/1.txt"</span>,<span class="function"><span class="keyword">function</span>(<span class="params">err,data</span>)</span>&#123;</div><div class="line">    <span class="keyword">if</span>(err) &#123; <span class="keyword">throw</span> err; &#125;</div><div class="line">    <span class="built_in">console</span>.log(data.toString());</div><div class="line">&#125;);</div></pre></td></tr></table></figure></p>
<p>三、post请求<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> alldata = <span class="string">""</span>;</div></pre></td></tr></table></figure></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//下面是post请求接收的一个公式</span></div><div class="line"><span class="comment">//node为了追求极致，它是一个小段一个小段接收的。</span></div><div class="line"><span class="comment">//接受了一小段，可能就给别人去服务了。防止一个过大的表单阻塞了整个进程</span></div><div class="line"></div><div class="line">req.addListener(<span class="string">"data"</span>,<span class="function"><span class="keyword">function</span>(<span class="params">chunk</span>)</span>&#123;</div><div class="line">    alldata += chunk;</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//全部传输完毕</span></div><div class="line">req.addListener(<span class="string">"end"</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(alldata.toString());</div><div class="line">    res.end(<span class="string">"success"</span>);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>原生写POST处理，比较复杂，要写两个监听。文件上传业务比较难写。<br>所以，用第三方模块。formidable。</p>
<p>只要涉及文件上传，那么form标签要加一个属性：<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">"http://127.0.0.1/dopost"</span> <span class="attr">method</span>=<span class="string">"post"</span> <span class="attr">enctype</span>=<span class="string">"multipart/form-data"</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>四、模板引擎<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"&lt;%= url %&gt;"</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"&lt;%= imageURL %&gt;"</span> <span class="attr">alt</span>=<span class="string">""</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>数据绑定，就成为一个完整的html字符串了。<br>前台的模板，我们现在要学习的是后台的模板。<br>后台模板，著名的有两个，第一个叫做ejs； 第二个叫做jade。</p>
<p>是npm第三方包。</p>
<p>先说EJS(Embedded JavaScript templates)<br>后台模板引擎<br><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">&lt;ul&gt;</div><div class="line">    &lt;% for(var i = 0 ; i &lt; news.length ; i++)&#123; %&gt;</div><div class="line">        &lt;li&gt;&lt;%= news[i] %&gt;&lt;/li&gt;</div><div class="line">    &lt;% &#125; %&gt;</div><div class="line">&lt;/ul&gt;</div></pre></td></tr></table></figure></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> dictionary = &#123;</div><div class="line">    <span class="attr">a</span>:<span class="number">6</span>,</div><div class="line">    <span class="attr">news</span> : [<span class="string">"1期班太牛逼了"</span>,<span class="string">"高薪就业"</span>,<span class="string">"哈哈哈哈哈"</span>]</div><div class="line">&#125;;</div></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="https://leiwensu.github.io/wills/wills/2016/12/19/nodejs01/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="Wills">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/wills/images/avatar2.png">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="Wills's blogs">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="Wills's blogs" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/wills/2016/12/19/nodejs01/" itemprop="url">
                  NodeJs课程笔记-NodeJs第一天笔记
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-12-19T16:29:08+08:00">
                2016-12-19
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/wills/categories/后端开发/" itemprop="url" rel="index">
                    <span itemprop="name">后端开发</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <a href="/wills/2016/12/19/nodejs01/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/12/19/nodejs01/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="一、Node-js简介"><a href="#一、Node-js简介" class="headerlink" title="一、Node.js简介"></a>一、Node.js简介</h2><h3 id="1-1-简介"><a href="#1-1-简介" class="headerlink" title="1.1 简介"></a>1.1 简介</h3><p>V8引擎本身就是用于Chrome浏览器的JS解释部分，但是Ryan Dahl（瑞恩达尔）这哥们，鬼才般的，把这个V8搬到了服务器上，用于做服务器的软件。<br>Node.js是一个专注于实现高性能Web服务器优化的专家，几经探索，几经挫折后，遇到V8而诞生的项目。</p>
<p>Node.js是一个让JavaScript运行在服务器端的开发平台，它让JavaScript的触角伸到了服务器端，可以与PHP、JSP、Python、Ruby平起平坐。<br>但Node似乎有点不同：<br>● Node.js不是一种独立的语言，与PHP、JSP、Python、Perl、Ruby的“既是语言，也是平台”不同，Node.js的使用JavaScript进行编程，运行在JavaScript引擎上（V8）。<br>● 与PHP、JSP等相比（PHP、JSP、.net都需要运行在服务器程序上，Apache、Naginx、Tomcat、IIS。<br>），Node.js跳过了Apache、Naginx、IIS等HTTP服务器，它自己不用建设在任何服务器软件之上。Node.js的许多设计理念与经典架构（LAMP = Linux + Apache + MySQL + PHP）有着很大的不同，可以提供强大的伸缩能力。一会儿我们就将看到，Node.js没有web容器。<br>Node.js自身哲学，是花最小的硬件成本，追求更高的并发，更高的处理性能。</p>
<p>官网：<a href="https://nodejs.org/en/" target="_blank" rel="external">https://nodejs.org/en/</a><br>特点：Node.js uses an event-driven, non-blocking I/O model that makes it lightweight and efficient.</p>
<h3 id="1-2-特点"><a href="#1-2-特点" class="headerlink" title="1.2 特点"></a>1.2 特点</h3><p>所谓的特点，就是Node.js是如何解决服务器高性能瓶颈问题的。</p>
<ul>
<li><p>单线程<br>在Java、PHP或者.net等服务器端语言中，会为每一个客户端连接创建一个新的线程。而每个线程需要耗费大约2MB内存。也就是说，理论上，一个8GB内存的服务器可以同时连接的最大用户数为4000个左右。要让Web应用程序支持更多的用户，就需要增加服务器的数量，而Web应用程序的硬件成本当然就上升了。<br>Node.js不为每个客户连接创建一个新的线程，而仅仅使用一个线程。当有用户连接了，就触发一个内部事件，通过非阻塞I/O、事件驱动机制，让Node.js程序宏观上也是并行的。使用Node.js，一个8GB内存的服务器，可以同时处理超过4万用户的连接。<br>另外，带线程的带来的好处，还有操作系统完全不再有线程创建、销毁的时间开销。<br>坏处，就是一个用户造成了线程的崩溃，整个服务都崩溃了，其他人也崩溃了。<br><img src="./uploads/a.jpg" alt="Alt text">  <img src="./uploads/b.jpg" alt="Alt text"><br>多线程、单线程的一个对比。<br>也就是说，单线程也能造成宏观上的“并发”。</p>
</li>
<li><p>非阻塞I/O   non-blocking I/O<br>例如，当在访问数据库取得数据的时候，需要一段时间。在传统的单线程处理机制中，在执行了访问数据库代码之后，整个线程都将暂停下来，等待数据库返回结果，才能执行后面的代码。也就是说，I/O阻塞了代码的执行，极大地降低了程序的执行效率。<br>由于Node.js中采用了非阻塞型I/O机制，因此在执行了访问数据库的代码之后，将立即转而执行其后面的代码，把数据库返回结果的处理代码放在回调函数中，从而提高了程序的执行效率。<br>当某个I/O执行完毕时，将以事件的形式通知执行I/O操作的线程，线程执行这个事件的回调函数。为了处理异步I/O，线程必须有事件循环，不断的检查有没有未处理的事件，依次予以处理。<br>阻塞模式下，一个线程只能处理一项任务，要想提高吞吐量必须通过多线程。而非阻塞模式下，一个线程永远在执行计算操作，这个线程的CPU核心利用率永远是100%。所以，这是一种特别有哲理的解决方案：与其人多，但是好多人闲着；还不如一个人玩命，往死里干活儿。</p>
</li>
<li><p>事件驱动event-driven<br>在Node中，客户端请求建立连接，提交数据等行为，会触发相应的事件。在Node中，在一个时刻，只能执行一个事件回调函数，但是在执行一个事件回调函数的中途，可以转而处理其他事件（比如，又有新用户连接了），然后返回继续执行原事件的回调函数，这种处理机制，称为“事件环”机制。<br>Node.js底层是C++（V8也是C++写的）。底层代码中，近半数都用于事件队列、回调函数队列的构建。用事件驱动来完成服务器的任务调度，这是鬼才才能想到的。针尖上的舞蹈，用一个线程，担负起了处理非常多的任务的使命。<br><img src="./uploads/c.jpg" alt="Alt text"> </p>
</li>
</ul>
<p>单线程，单线程的好处，减少了内存开销，操作系统的内存换页。<br>如果某一个事情，进入了，但是被I/O阻塞了，所以这个线程就阻塞了。</p>
<p>非阻塞I/O， 不会傻等I/O语句结束，而会执行后面的语句。<br>非阻塞就能解决问题了么？比如执行着小红的业务，执行过程中，小刚的I/O回调完成了，此时怎么办？？</p>
<p>事件机制，事件环，不管是新用户的请求，还是老用户的I/O完成，都将以事件方式加入事件环，等待调度。</p>
<p>说是三个特点，实际上是一个特点，离开谁都不行，都玩儿不转了。<br>Node.js很像抠门的餐厅老板，只聘请1个服务员，服务很多人。结果，比很多服务员效率还高。<br>Node.js中所有的I/O都是异步的，回调函数，套回调函数。</p>
<h3 id="1-3-适合开发什么？"><a href="#1-3-适合开发什么？" class="headerlink" title="1.3 适合开发什么？"></a>1.3 适合开发什么？</h3><p>Node.js适合用来开发什么样的应用程序呢？<br>善于I/O，不善于计算。因为Node.js最擅长的就是任务调度，如果你的业务有很多的CPU计算，实际上也相当于这个计算阻塞了这个单线程，就不适合Node开发。<br>当应用程序需要处理大量并发的I/O，而在向客户端发出响应之前，应用程序内部并不需要进行非常复杂的处理的时候，Node.js非常适合。Node.js也非常适合与web socket配合，开发长连接的实时交互应用程序。<br>比如：<br>● 用户表单收集<br>● 考试系统<br>● 聊天室<br>● 图文直播<br>● 提供JSON的API（为前台Angular使用）</p>
<h3 id="1-4-Node-js无法挑战老牌3P"><a href="#1-4-Node-js无法挑战老牌3P" class="headerlink" title="1.4 Node.js无法挑战老牌3P"></a>1.4 Node.js无法挑战老牌3P</h3><p><img src="./uploads/d.jpg" alt="Alt text"> </p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="https://leiwensu.github.io/wills/wills/2016/11/29/upload/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="Wills">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/wills/images/avatar2.png">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="Wills's blogs">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="Wills's blogs" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/wills/2016/11/29/upload/" itemprop="url">
                  Ajax图片上传与图片预览方法
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-11-29T00:00:00+08:00">
                2016-11-29
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/wills/categories/前端开发/" itemprop="url" rel="index">
                    <span itemprop="name">前端开发</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <a href="/wills/2016/11/29/upload/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/11/29/upload/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <ol>
<li>H5—xhr2（XmlHttpRequest level 2）上传<br>xhr2的特点:  </li>
</ol>
<ul>
<li>可以设置HTTP请求的时限。</li>
<li>可以获取服务器端的（或向服务端发送）二进制数据。</li>
<li>可以使用FormData对象管理表单数据。</li>
<li>可以上传文件。xhr.upload(upload = XMLHttpRequestUpload)</li>
<li>可以获得数据传输的进度信息, xhr.upload.onprogess。</li>
<li>可以请求不同域名下的数据（跨域请求）</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="comment">/**</span></div><div class="line"> * 上传图片</div><div class="line"> * @param &#123;string&#125; type input[file]的name值</div><div class="line"> */</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">uploadImg</span>(<span class="params">type</span>)</span>&#123;</div><div class="line">    </div><div class="line">    <span class="keyword">var</span> formData= <span class="keyword">new</span> FormData();</div><div class="line">    formData.append(<span class="string">"from"</span>, <span class="string">"expert"</span>);</div><div class="line">    formData.append(<span class="string">"debug"</span>, <span class="string">"1"</span>);</div><div class="line">    formData.append(<span class="string">"expertId"</span>, <span class="string">"1"</span>);</div><div class="line"></div><div class="line">    <span class="keyword">var</span> picFileList = $(<span class="string">"#"</span> + type).get(<span class="number">0</span>).files;</div><div class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>; i&lt; picFileList.length; i++)&#123;</div><div class="line">        formData.append(type , picFileList[i] );</div><div class="line">    &#125;</div><div class="line">     </div><div class="line">    <span class="keyword">var</span> xhr = <span class="keyword">new</span> XMLHttpRequest();</div><div class="line">     </div><div class="line">    xhr.open(<span class="string">"POST"</span>, requestUrl + <span class="string">"/expert/updatePicA"</span>);</div><div class="line">    xhr.onreadystatechange = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">        <span class="keyword">var</span> XMLHttpReq = xhr;</div><div class="line">        <span class="keyword">if</span> (XMLHttpReq.readyState == <span class="number">4</span>) &#123;</div><div class="line">            <span class="keyword">if</span> (XMLHttpReq.status == <span class="number">200</span>) &#123;</div><div class="line">                <span class="keyword">var</span> text = XMLHttpReq.responseText;</div><div class="line">                <span class="built_in">eval</span>(<span class="string">"rt="</span> + text);</div><div class="line">                <span class="keyword">if</span>(rt.error!==<span class="string">""</span>)&#123;</div><div class="line">                    alert(rt.error);</div><div class="line">                &#125;<span class="keyword">else</span>&#123;</div><div class="line">                    alert(<span class="string">"操作成功"</span>);</div><div class="line">                    <span class="built_in">window</span>.location.reload()</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;;</div><div class="line">    xhr.send(formData);</div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>xhr2在结合H5的其他特性，可以实现上述flash上传的所以功能外，还可以实现拖拽上传功能。</p>
<p>由于诸多HTML5特性（Blob ,xhr2,FileReader,ArrayBuffer等）在IE10+中才有效，<br>所以xhr2上传更适合在chrome，firefox等高版本的浏览器或和移动端使用。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//  预览图片</span></div><div class="line">    <span class="function"><span class="keyword">function</span> <span class="title">seeImg</span>(<span class="params">el,imgBox</span>)</span>&#123;</div><div class="line">        <span class="function"><span class="keyword">function</span> <span class="title">getObjectURL</span>(<span class="params">file</span>) </span>&#123;</div><div class="line">            <span class="keyword">var</span> url = <span class="literal">null</span>;</div><div class="line">            <span class="keyword">if</span> (<span class="built_in">window</span>.createObjectURL != <span class="literal">undefined</span>) &#123; <span class="comment">// basic</span></div><div class="line">                url = <span class="built_in">window</span>.createObjectURL(file);</div><div class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="built_in">window</span>.URL != <span class="literal">undefined</span>) &#123; <span class="comment">// mozilla(firefox)</span></div><div class="line">                url = <span class="built_in">window</span>.URL.createObjectURL(file);</div><div class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="built_in">window</span>.webkitURL != <span class="literal">undefined</span>) &#123; <span class="comment">// webkit or chrome</span></div><div class="line">                url = <span class="built_in">window</span>.webkitURL.createObjectURL(file);</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">return</span> url;</div><div class="line">        &#125;</div><div class="line">        el.on(<span class="string">"change"</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">            <span class="keyword">var</span> objUrl = getObjectURL(el[<span class="number">0</span>].files[<span class="number">0</span>]) ;</div><div class="line">            <span class="keyword">if</span> (objUrl) &#123;</div><div class="line">                imgBox.attr(<span class="string">"src"</span>, objUrl);</div><div class="line">                imgBox.attr(<span class="string">"class"</span>, <span class="string">"fileImg"</span>);</div><div class="line">            &#125;</div><div class="line">            el.parent().find(<span class="string">".register-file-val"</span>).text(el.val());</div><div class="line">        &#125;)</div><div class="line">    &#125;</div></pre></td></tr></table></figure>
<p>使用jquery:</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">id</span>= <span class="string">"uploadForm"</span>&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">p</span> &gt;</span>指定文件名： <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"filename"</span> <span class="attr">value</span>= <span class="string">""</span>/&gt;</span><span class="tag">&lt;/<span class="name">p</span> &gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">p</span> &gt;</span>上传文件： <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"file"</span> <span class="attr">name</span>=<span class="string">"file"</span>/&gt;</span><span class="tag">&lt;/ <span class="attr">p</span>&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">value</span>=<span class="string">"上传"</span> <span class="attr">onclick</span>=<span class="string">"doUpload()"</span> /&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></div></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">doUpload</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> formData = <span class="keyword">new</span> FormData($( <span class="string">"#uploadForm"</span> )[<span class="number">0</span>]);</div><div class="line">    $.ajax(&#123;</div><div class="line">        <span class="attr">url</span>: <span class="string">'http://localhost:8080/cfJAX_RS/rest/file/upload'</span> ,</div><div class="line">        <span class="attr">type</span>: <span class="string">'POST'</span>,</div><div class="line">        <span class="attr">data</span>: formData,</div><div class="line">        <span class="attr">async</span>: <span class="literal">false</span>,</div><div class="line">        <span class="attr">cache</span>: <span class="literal">false</span>,</div><div class="line">        <span class="attr">contentType</span>: <span class="literal">false</span>,</div><div class="line">        <span class="attr">processData</span>: <span class="literal">false</span>,</div><div class="line">        <span class="attr">success</span>: <span class="function"><span class="keyword">function</span> (<span class="params">returndata</span>) </span>&#123;</div><div class="line">            alert(returndata);</div><div class="line">        &#125;,</div><div class="line">        <span class="attr">error</span>: <span class="function"><span class="keyword">function</span> (<span class="params">returndata</span>) </span>&#123;</div><div class="line">            alert(returndata);</div><div class="line">        &#125;</div><div class="line">    &#125;);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>可参考：<br><a href="https://developer.mozilla.org/zh-CN/docs/Web/Guide/Using_FormData_Objects" target="_blank" rel="external">https://developer.mozilla.org/zh-CN/docs/Web/Guide/Using_FormData_Objects</a></p>
<p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/FormData/append" target="_blank" rel="external">https://developer.mozilla.org/zh-CN/docs/Web/Guide/Using_FormData_Objects</a></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="https://leiwensu.github.io/wills/wills/2016/11/29/rem/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="Wills">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/wills/images/avatar2.png">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="Wills's blogs">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="Wills's blogs" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/wills/2016/11/29/rem/" itemprop="url">
                  使用REM进行手机屏幕适配!
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-11-29T00:00:00+08:00">
                2016-11-29
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/wills/categories/前端开发/" itemprop="url" rel="index">
                    <span itemprop="name">前端开发</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <a href="/wills/2016/11/29/rem/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/11/29/rem/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>什么是REM?<br>在rem之前，我们知道em是相对于父元素的字体来设置字体大小的，这样就会存在一个问题，进行任何元素设置，都有可能需要知道他父元素的大小，在我们多次使用时，就会带来无法预知的错误风险。而rem是相对于根元素<html>，这样就意味着，我们只需要在根元素确定一个参考值，，在根元素中设置多大的字体，这完全可以根据您自己的所需。  </html></p>
<p>浏览器的兼容性？<br>虽然rem是CSS3新引进来的一个度量单位，但是它支持的浏览器还是挺多的，比如：Mozilla Firefox 3.6+、Apple Safari 5+、Google Chrome、IE9+和Opera11+。只是可怜的IE6-8无法，你们就把他们当透明了吧，我向来都是如此。</p>
<p>不过使用单位设置字体，可不能完全不考虑IE了，如果你想使用这个REM，但也想兼容IE下的效果，可你可考虑“px”和“rem”一起使用，用”px”来实现IE6-8下的效果，然后使用“Rem”来实现代浏览器的效果，就让IE6-8不能随文字的改变而改变吧，现在基本要抛弃这些古老的浏览器了。</p>
<p>首先我们来看看使用 rem 实现手机屏幕适配的常用方案。</p>
<p>以设计稿的宽度为640px，即：designWidth = 640，同时设定在640px屏宽下 1rem=100px ，即：rem2px = 100。</p>
<blockquote>
<p>设置 1rem=100px 的优点不言而喻。前端开发者在切图、重构页面的时候，通过直接位移小数点的方式，就可以将UI图中测量到的 px 值换算成对应的 rem 值，方便快捷。<br>此外，在 head 中我们还设置了：  </p>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0"</span> /&gt;</span></div></pre></td></tr></table></figure>
<p>先来看看具体方案<br>方案1：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">@<span class="keyword">media</span> screen and (min-width: <span class="number">320px</span>) &#123;<span class="selector-tag">html</span>&#123;<span class="attribute">font-size</span>:<span class="number">50px</span>;&#125;&#125;</div><div class="line">@<span class="keyword">media</span> screen and (min-width: <span class="number">360px</span>) &#123;<span class="selector-tag">html</span>&#123;<span class="attribute">font-size</span>:<span class="number">56.25px</span>;&#125;&#125;</div><div class="line">@<span class="keyword">media</span> screen and (min-width: <span class="number">375px</span>) &#123;<span class="selector-tag">html</span>&#123;<span class="attribute">font-size</span>:<span class="number">58.59375px</span>;&#125;&#125;</div><div class="line">@<span class="keyword">media</span> screen and (min-width: <span class="number">400px</span>) &#123;<span class="selector-tag">html</span>&#123;<span class="attribute">font-size</span>:<span class="number">62.5px</span>;&#125;&#125;</div><div class="line">@<span class="keyword">media</span> screen and (min-width: <span class="number">414px</span>) &#123;<span class="selector-tag">html</span>&#123;<span class="attribute">font-size</span>:<span class="number">64.6875px</span>;&#125;&#125;</div><div class="line">@<span class="keyword">media</span> screen and (min-width: <span class="number">440px</span>) &#123;<span class="selector-tag">html</span>&#123;<span class="attribute">font-size</span>:<span class="number">68.75px</span>;&#125;&#125;</div><div class="line">@<span class="keyword">media</span> screen and (min-width: <span class="number">480px</span>) &#123;<span class="selector-tag">html</span>&#123;<span class="attribute">font-size</span>:<span class="number">75px</span>;&#125;&#125;</div><div class="line">@<span class="keyword">media</span> screen and (min-width: <span class="number">520px</span>) &#123;<span class="selector-tag">html</span>&#123;<span class="attribute">font-size</span>:<span class="number">81.25px</span>;&#125;&#125;</div><div class="line">@<span class="keyword">media</span> screen and (min-width: <span class="number">560px</span>) &#123;<span class="selector-tag">html</span>&#123;<span class="attribute">font-size</span>:<span class="number">87.5px</span>;&#125;&#125;</div><div class="line">@<span class="keyword">media</span> screen and (min-width: <span class="number">600px</span>) &#123;<span class="selector-tag">html</span>&#123;<span class="attribute">font-size</span>:<span class="number">93.75px</span>;&#125;&#125;</div><div class="line">@<span class="keyword">media</span> screen and (min-width: <span class="number">640px</span>) &#123;<span class="selector-tag">html</span>&#123;<span class="attribute">font-size</span>:<span class="number">100px</span>;&#125;&#125;</div><div class="line">@<span class="keyword">media</span> screen and (min-width: <span class="number">680px</span>) &#123;<span class="selector-tag">html</span>&#123;<span class="attribute">font-size</span>:<span class="number">106.25px</span>;&#125;&#125;</div><div class="line">@<span class="keyword">media</span> screen and (min-width: <span class="number">720px</span>) &#123;<span class="selector-tag">html</span>&#123;<span class="attribute">font-size</span>:<span class="number">112.5px</span>;&#125;&#125;</div><div class="line">@<span class="keyword">media</span> screen and (min-width: <span class="number">760px</span>) &#123;<span class="selector-tag">html</span>&#123;<span class="attribute">font-size</span>:<span class="number">118.75px</span>;&#125;&#125;</div><div class="line">@<span class="keyword">media</span> screen and (min-width: <span class="number">800px</span>) &#123;<span class="selector-tag">html</span>&#123;<span class="attribute">font-size</span>:<span class="number">125px</span>;&#125;&#125;</div><div class="line">@<span class="keyword">media</span> screen and (min-width: <span class="number">960px</span>) &#123;<span class="selector-tag">html</span>&#123;<span class="attribute">font-size</span>:<span class="number">150px</span>;&#125;&#125;</div></pre></td></tr></table></figure>
<p>方案2：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">@<span class="keyword">media</span> screen and (min-width: <span class="number">320px</span>) &#123;<span class="selector-tag">html</span>&#123;<span class="attribute">font-size</span>:<span class="number">312.5%</span>;&#125;&#125;</div><div class="line">@<span class="keyword">media</span> screen and (min-width: <span class="number">360px</span>) &#123;<span class="selector-tag">html</span>&#123;<span class="attribute">font-size</span>:<span class="number">351.5625%</span>;&#125;&#125;</div><div class="line">@<span class="keyword">media</span> screen and (min-width: <span class="number">375px</span>) &#123;<span class="selector-tag">html</span>&#123;<span class="attribute">font-size</span>:<span class="number">366.211%</span>;&#125;&#125;</div><div class="line">@<span class="keyword">media</span> screen and (min-width: <span class="number">400px</span>) &#123;<span class="selector-tag">html</span>&#123;<span class="attribute">font-size</span>:<span class="number">390.625%</span>;&#125;&#125;</div><div class="line">@<span class="keyword">media</span> screen and (min-width: <span class="number">414px</span>) &#123;<span class="selector-tag">html</span>&#123;<span class="attribute">font-size</span>:<span class="number">404.2969%</span>;&#125;&#125;</div><div class="line">@<span class="keyword">media</span> screen and (min-width: <span class="number">440px</span>) &#123;<span class="selector-tag">html</span>&#123;<span class="attribute">font-size</span>:<span class="number">429.6875%</span>;&#125;&#125;</div><div class="line">@<span class="keyword">media</span> screen and (min-width: <span class="number">480px</span>) &#123;<span class="selector-tag">html</span>&#123;<span class="attribute">font-size</span>:<span class="number">468.75%</span>;&#125;&#125;</div><div class="line">@<span class="keyword">media</span> screen and (min-width: <span class="number">520px</span>) &#123;<span class="selector-tag">html</span>&#123;<span class="attribute">font-size</span>:<span class="number">507.8125%</span>;&#125;&#125;</div><div class="line">@<span class="keyword">media</span> screen and (min-width: <span class="number">560px</span>) &#123;<span class="selector-tag">html</span>&#123;<span class="attribute">font-size</span>:<span class="number">546.875%</span>;&#125;&#125;</div><div class="line">@<span class="keyword">media</span> screen and (min-width: <span class="number">600px</span>) &#123;<span class="selector-tag">html</span>&#123;<span class="attribute">font-size</span>:<span class="number">585.9375%</span>;&#125;&#125;</div><div class="line">@<span class="keyword">media</span> screen and (min-width: <span class="number">640px</span>) &#123;<span class="selector-tag">html</span>&#123;<span class="attribute">font-size</span>:<span class="number">625%</span>;&#125;&#125;</div><div class="line">@<span class="keyword">media</span> screen and (min-width: <span class="number">680px</span>) &#123;<span class="selector-tag">html</span>&#123;<span class="attribute">font-size</span>:<span class="number">664.0625%</span>;&#125;&#125;</div><div class="line">@<span class="keyword">media</span> screen and (min-width: <span class="number">720px</span>) &#123;<span class="selector-tag">html</span>&#123;<span class="attribute">font-size</span>:<span class="number">703.125%</span>;&#125;&#125;</div><div class="line">@<span class="keyword">media</span> screen and (min-width: <span class="number">760px</span>) &#123;<span class="selector-tag">html</span>&#123;<span class="attribute">font-size</span>:<span class="number">742.1875%</span>;&#125;&#125;</div><div class="line">@<span class="keyword">media</span> screen and (min-width: <span class="number">800px</span>) &#123;<span class="selector-tag">html</span>&#123;<span class="attribute">font-size</span>:<span class="number">781.25%</span>;&#125;&#125;</div><div class="line">@<span class="keyword">media</span> screen and (min-width: <span class="number">960px</span>) &#123;<span class="selector-tag">html</span>&#123;<span class="attribute">font-size</span>:<span class="number">937.5%</span>;&#125;&#125;</div></pre></td></tr></table></figure>
<p>方案3：  </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="keyword">var</span> designWidth = <span class="number">640</span>, rem2px = <span class="number">100</span>;</div><div class="line"><span class="built_in">document</span>.documentElement.style.fontSize = </div><div class="line">  ((<span class="built_in">window</span>.innerWidth / designWidth) * rem2px) + <span class="string">'px'</span>;</div></pre></td></tr></table></figure>
<blockquote>
<p>注：目标屏幕宽度和设计稿的宽度的比: </p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="built_in">window</span>.innerWidth / designWidth * rem2px + <span class="string">'px'</span></div></pre></td></tr></table></figure>
<p>方案4：  </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="keyword">var</span> designWidth = <span class="number">640</span>, rem2px = <span class="number">100</span>;</div><div class="line"><span class="built_in">document</span>.documentElement.style.fontSize = </div><div class="line">((((<span class="built_in">window</span>.innerWidth / designWidth) * rem2px) / <span class="number">16</span>) * <span class="number">100</span>) + <span class="string">'%'</span>;</div></pre></td></tr></table></figure>
<blockquote>
<p>注：由于浏览器默认字体大小为 16px，所以当我们使用百分比作为根节点 html 的字体大小时，即html元素的font-size值设置为一个百分比值，rem 的计算方式就会改为：</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">defaultFontSize = 16px</div><div class="line">1rem = 1 * htmlFontSize * defaultFontSize</div></pre></td></tr></table></figure>
<blockquote>
<p>同样的可以得到所有屏幕大小下，html 的 font-size 值的计算公式，即为方案4：</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">window.innerWidth / designWidth * rem2px / 16 * 100  + &apos;%&apos;</div></pre></td></tr></table></figure>
<p>方案5：  </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">setRem();</div><div class="line"><span class="built_in">window</span>.addEventListener(<span class="string">"orientationchange"</span>,setRem);<span class="comment">//监听横屏</span></div><div class="line"><span class="built_in">window</span>.addEventListener(<span class="string">"resize"</span>,setRem);<span class="comment">//监听屏幕大小变化</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">setRem</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">var</span> $html = <span class="built_in">document</span>.querySelector(<span class="string">"html"</span>);</div><div class="line">    <span class="keyword">var</span> width = $html.getBoundingClientRect().width;</div><div class="line">    $html.style.fontSize = width / <span class="number">16</span> + <span class="string">"px"</span>;<span class="comment">//按比例设置不同大小屏幕下根节点的字体</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/wills/page/2/">2</a><a class="extend next" rel="next" href="/wills/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/wills/images/avatar2.png"
               alt="Wills" />
          <p class="site-author-name" itemprop="name">Wills</p>
          <p class="site-description motion-element" itemprop="description">wills blogs，前端开发博客，技术博客，前端学习笔记</p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/wills/archives">
              <span class="site-state-item-count">17</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          
            <div class="site-state-item site-state-categories">
              <a href="/wills/categories">
                <span class="site-state-item-count">2</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-tags">
              <a href="/wills/tags">
                <span class="site-state-item-count">14</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/leiwensu" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
          
        </div>

        
        

        
        

        


      </section>

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Wills</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Pisces
  </a>
</div>


        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/wills/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/wills/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/wills/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/wills/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/wills/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/wills/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/wills/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/wills/js/src/motion.js?v=5.1.0"></script>



  
  


  <script type="text/javascript" src="/wills/js/src/affix.js?v=5.1.0"></script>

  <script type="text/javascript" src="/wills/js/src/schemes/pisces.js?v=5.1.0"></script>



  

  


  <script type="text/javascript" src="/wills/js/src/bootstrap.js?v=5.1.0"></script>



  

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"leiwensu"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.id = 'duoshuo-script';
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>

  
    
    
    <script src="/wills/lib/ua-parser-js/dist/ua-parser.min.js?v=0.7.9"></script>
    <script src="/wills/js/src/hook-duoshuo.js"></script>
  








  
  

  

  

  

  


</body>
</html>
