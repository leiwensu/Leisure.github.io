<!doctype html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
  <link href="/wills/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/wills/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/wills/css/main.css?v=5.1.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="wills blogs，前端开发博客，技术博客，前端学习笔记" />








  <link rel="shortcut icon" type="image/x-icon" href="/wills/favicon.ico?v=5.1.0" />






<meta name="description" content="wills blogs，前端开发博客，技术博客，前端学习笔记">
<meta property="og:type" content="website">
<meta property="og:title" content="Wills's blogs">
<meta property="og:url" content="https://leiwensu.github.io/wills/page/2/index.html">
<meta property="og:site_name" content="Wills's blogs">
<meta property="og:description" content="wills blogs，前端开发博客，技术博客，前端学习笔记">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Wills's blogs">
<meta name="twitter:description" content="wills blogs，前端开发博客，技术博客，前端学习笔记">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/wills/',
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://leiwensu.github.io/wills/page/2/"/>





  <title> Wills's blogs </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  



  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?cee50df2052a8a7450182db30db0b563";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>








  
  
    
  

  <div class="container one-collumn sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/wills/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">Wills's blogs</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle"></p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/wills/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/wills/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/wills/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/wills/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="https://leiwensu.github.io/wills/wills/2016/09/23/resources/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="Wills">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/wills/images/avatar.png">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="Wills's blogs">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="Wills's blogs" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/wills/2016/09/23/resources/" itemprop="url">
                  前端实用工具网站
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-09-23T00:00:00+08:00">
                2016-09-23
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/wills/categories/前端开发/" itemprop="url" rel="index">
                    <span itemprop="name">前端开发</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <a href="/wills/2016/09/23/resources/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/09/23/resources/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>这些是我在编程过程中经常用到的网站，将他们收录在这里，避免忘记。  </p>
<ol>
<li><a href="http://tool.lu/imageholder/" target="_blank" rel="external">图片占位工具</a>  </li>
<li><a href="http://tool.css-js.com/base64.html" target="_blank" rel="external">图片在线转换base64</a>  </li>
<li><a href="http://alloyteam.github.io/gopng/" target="_blank" rel="external">腾讯雪碧图制作工具</a>  </li>
</ol>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="https://leiwensu.github.io/wills/wills/2016/09/18/phpNote/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="Wills">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/wills/images/avatar.png">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="Wills's blogs">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="Wills's blogs" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/wills/2016/09/18/phpNote/" itemprop="url">
                  PHP学习笔记
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-09-18T00:00:00+08:00">
                2016-09-18
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/wills/categories/后端开发/" itemprop="url" rel="index">
                    <span itemprop="name">后端开发</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <a href="/wills/2016/09/18/phpNote/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/09/18/phpNote/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <ol>
<li>php支持8种原始数据类型</li>
</ol>
<ul>
<li><p>4种基本类型：<br>(1) integer(整型)<br>(2) float/double(浮点型)<br>(3) string(字符串)<br>(4) boolean(布尔型)  </p>
</li>
<li><p>2种复合类型：<br>(5) array(数组)<br>(6) object(对象)  </p>
</li>
<li><p>2种特殊类型：<br>(7) resource(资源)<br>(8) NULL  </p>
</li>
</ul>
<h3 id="2-php中不是只有false值才为假，以下8种情况也为false"><a href="#2-php中不是只有false值才为假，以下8种情况也为false" class="headerlink" title="2. php中不是只有false值才为假，以下8种情况也为false"></a>2. php中不是只有false值才为假，以下8种情况也为false</h3><p>(1) 整型0<br>(2) 浮点型0.0<br>(3) 字符串”0”<br>(4) 空字符串””<br>(5) 空数组<br>(6) 空对象<br>(7) null<br>(8)从空标记生成的SimpleXML对象  </p>
<p>所有其他值都被认为是true(包括任何资源)</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">echo <span class="number">0</span>==<span class="literal">false</span>;<span class="comment">//1</span></div><div class="line">echo <span class="number">0.0</span>==<span class="literal">false</span>;<span class="comment">//1</span></div><div class="line">echo <span class="string">"0"</span>==<span class="literal">false</span>;<span class="comment">//1</span></div><div class="line">echo <span class="string">""</span>==<span class="literal">false</span>;<span class="comment">//1</span></div><div class="line">echo array()==<span class="literal">false</span>;<span class="comment">//1</span></div><div class="line">echo <span class="literal">null</span>==<span class="literal">false</span>;<span class="comment">//1</span></div></pre></td></tr></table></figure>
<h3 id="3-单引号和双引号的区别"><a href="#3-单引号和双引号的区别" class="headerlink" title="3. 单引号和双引号的区别"></a>3. 单引号和双引号的区别</h3><p>双引号中所包含的的变量会自动被替换成实际数值，而单引号中包含的变量则按普通字符串输出。<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$a = <span class="string">'php'</span>;</div><div class="line">echo <span class="string">'$a'</span>;<span class="comment">//'$a'</span></div><div class="line">echo <span class="string">"$a"</span><span class="comment">//'php'</span></div></pre></td></tr></table></figure></p>
<h3 id="4-声明一个数组"><a href="#4-声明一个数组" class="headerlink" title="4. 声明一个数组"></a>4. 声明一个数组</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">$arr = array(</div><div class="line">    <span class="string">'name'</span> =&gt; <span class="string">'phpchina'</span>,</div><div class="line">    <span class="string">'url'</span> =&gt; <span class="string">'www.phpchina.com'</span>,</div><div class="line">    <span class="string">'age'</span> = &gt; <span class="number">13</span></div><div class="line">);</div></pre></td></tr></table></figure>
<h3 id="5-声明一个对象"><a href="#5-声明一个对象" class="headerlink" title="5. 声明一个对象"></a>5. 声明一个对象</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">PHPChina</span></span>&#123;</div><div class="line">    private $name = <span class="string">'phpchina'</span>;</div><div class="line">    public <span class="function"><span class="keyword">function</span> <span class="title">sayHi</span>(<span class="params"></span>)</span>&#123;</div><div class="line">        echo <span class="string">'Hi'</span> . $<span class="keyword">this</span>-&gt;name;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line">$php = <span class="keyword">new</span> PHPChina();</div><div class="line">var_dump($php);</div></pre></td></tr></table></figure>
<h3 id="6-输出null的情况"><a href="#6-输出null的情况" class="headerlink" title="6. 输出null的情况"></a>6. 输出null的情况</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">$a = <span class="literal">null</span>;</div><div class="line">$b;</div><div class="line">$c = <span class="number">10</span>;</div><div class="line">unset($c);</div></pre></td></tr></table></figure>
<ul>
<li>unset()—— 用来销毁变量</li>
<li>is_null()—— 判断某个变量是否为null，返回一个boolean值，如果为null值，那么输出true，否则输出false</li>
</ul>
<h3 id="7-数据类型转换"><a href="#7-数据类型转换" class="headerlink" title="7. 数据类型转换"></a>7. 数据类型转换</h3><p>两种方式：<br>(1) 在需要转换类型的变量前加上括号括起来的数据类型则名称即可：(int)$a<br>(2) 使用settype()函数来实现：settype($a,’int’); //将变量a转换成整型类型<br>基本转换：<br>(1) null、0和未赋值的变量或数组都会转换为false<br>(2) 当boolean类型转换为int类型时，true转换为1，false转换为0<br>(3) 字符串转换成int类型时，字符串如果以数字开头就截取到非数字部分，否则输出0；其他数据类型转换为object类型时，其中名为scalar的成员变量将包含原变量的值<br>强制转换：<br>前面转换方式的第一种就是强制转换。</p>
<h3 id="8-定义常量"><a href="#8-定义常量" class="headerlink" title="8. 定义常量"></a>8. 定义常量</h3><p>常量在使用前必须先定义，常量的名字一般使用大写字母组合，不建议使用小写字母。<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">bool define ( string $name , mixed $value [, bool $case_insensitive = <span class="literal">false</span> ] )</div></pre></td></tr></table></figure></p>
<p>最后一个参数可选，表示常量是否区分大小写，如果设定为true，表示不区分大小写，默认为false,即默认是区分大小写的。<br>例子：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">define(<span class="string">'NAME'</span>,<span class="string">'lei'</span>);</div></pre></td></tr></table></figure></p>
<p>defined() — 检查某个名称的常量是否存在，语法如下：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">bool defined ( string $name )</div></pre></td></tr></table></figure></p>
<h3 id="9-系统默认常量-预定义常量"><a href="#9-系统默认常量-预定义常量" class="headerlink" title="9. 系统默认常量(预定义常量)"></a>9. 系统默认常量(预定义常量)</h3><p><strong>__FILE__</strong>—— 文件的完整路径和文件名<br><strong>__LINE__</strong>—— 当前行号<br><strong>__CLASS__</strong>—— 类的名称<br><strong>__METHOD__</strong>—— 类的方法名<br><strong>PHP_VERSION</strong>—— php的版本<br><strong>PHP_OS</strong>—— 运行php程序的操作系统<br><strong>DIRECTORY_SEPARATOR</strong>—— 返回操作系统的分隔符 windows下返回“\”，linux下返回“/”  </p>
<h3 id="10-php变量"><a href="#10-php变量" class="headerlink" title="10. php变量"></a>10. php变量</h3><p>变量名是区分大小写的，一个有效的变量名由字母或者下划线开头，后面跟上任意数量的字母，数字，或者下划线。按照正常的正则表达式，它将被表述为：’[a-zA-Z<em>\x7f-\xff][a-zA-Z0-9</em>\x7f-\xff]*’。<br>不需要预先定义，可以直接在使用时定义变量。同时在定义变量时，也可以不用初始化变量。<br>  给变量赋值有两种方式，分别是传值赋值和引用赋值：<br>(1)传值赋值，是使用“=”直接将一个变量（或表达式）的值赋给变量，等号两边的变量互不影响，任何一个变量值的变化都不会影响到另一个变量。<br>(2)引用赋值同样也是使用“=”将一个变量的值赋给另一个变量，但是需要在等号右边的变量前面加上一个”&amp;”符号。在使用引用赋值的时候，两个变量将会指向内存中同一存储空间。因此任何一个变量的变化都会引起另外一个变量的变化。  </p>
<p>变量的作用域：<br>（1）局部变量<br>（2）全局变量<br>（3）静态变量  </p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="https://leiwensu.github.io/wills/wills/2016/09/12/panel/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="Wills">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/wills/images/avatar.png">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="Wills's blogs">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="Wills's blogs" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/wills/2016/09/12/panel/" itemprop="url">
                  后台管理系统的主布局框架（告别传统的iframe）
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-09-12T00:00:00+08:00">
                2016-09-12
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/wills/categories/前端开发/" itemprop="url" rel="index">
                    <span itemprop="name">前端开发</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <a href="/wills/2016/09/12/panel/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/09/12/panel/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>实现原理：</p>
<p>① 整个后台管理系都是由一个完整的页面（.html | .jsp | .php）所切分的。​​</p>
<p>② 页面由头部、身体（左：菜单，右：内容）、尾部构成。</p>
<p>③ 对应着菜单项属性名称，新建同样名称的.html页面（注：这里的html不存在标签，该页面就是从主页面分出来的右边内容的一部分，它与主页面拼成一个完整的页面）。<br>④ 点击左边菜单项，就把当前的菜单项名称填写到Ajax的url中。</p>
<p>⑤ 将Ajax返回数据，填给右边内容。</p>
<h3 id="代码实现："><a href="#代码实现：" class="headerlink" title="代码实现："></a>代码实现：</h3><p>​①.html部分（页面左：菜单）： </p>
<p>​②.html部分（页面右：内容）：​</p>
<p>​③.​目录结构：与菜单属性名保持一致的.html页面</p>
<p>④.Js部分（这里引用了jQuery库）：<br>​</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="keyword">var</span> code = $(<span class="string">".menulist .selected"</span>).attr(<span class="string">"data-code"</span>)；</div><div class="line"></div><div class="line">$.ajax(&#123;</div><div class="line">   <span class="attr">url</span>: code + <span class="string">".html"</span>,</div><div class="line">   <span class="attr">type</span>:<span class="string">"get"</span>,</div><div class="line">   <span class="attr">data</span>:&#123;</div><div class="line">        <span class="attr">code</span>:code</div><div class="line">   &#125;,</div><div class="line">  <span class="attr">dataType</span>:<span class="string">"html"</span>,</div><div class="line">  <span class="attr">success</span>:<span class="function"><span class="keyword">function</span>(<span class="params">data</span>)</span>&#123;</div><div class="line">        $(<span class="string">"#content"</span>).html(data)</div><div class="line">   &#125;</div><div class="line">&#125;)</div><div class="line"></div><div class="line">$(<span class="string">".menulist li"</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line"></div><div class="line">  <span class="keyword">if</span>($(<span class="keyword">this</span>).hasClass(<span class="string">"selected"</span>)==<span class="literal">false</span>)&#123;</div><div class="line">       $(<span class="string">".menulist li"</span>).removeClass(<span class="string">"selected"</span>);</div><div class="line">       $(<span class="string">".menulist li"</span>).animate(&#123;<span class="attr">width</span>:<span class="string">"80%"</span>&#125;,<span class="number">200</span>,<span class="string">"swing"</span>);</div><div class="line">       $(<span class="keyword">this</span>).addClass(<span class="string">"selected"</span>);</div><div class="line">       $(<span class="keyword">this</span>).animate(&#123;<span class="attr">width</span>:<span class="string">"100%"</span>&#125;,<span class="number">200</span>,<span class="string">"linear"</span>);</div><div class="line">       <span class="keyword">var</span> code = $(<span class="keyword">this</span>).attr(<span class="string">"data-code"</span>);</div><div class="line">       hideDetail();</div><div class="line"></div><div class="line">        $.ajax(&#123;</div><div class="line"></div><div class="line">             <span class="attr">url</span>:code + <span class="string">".html"</span>,</div><div class="line"></div><div class="line">             <span class="attr">type</span>:<span class="string">"get"</span>,</div><div class="line"></div><div class="line">             <span class="attr">dataType</span>:<span class="string">"html"</span>,</div><div class="line"></div><div class="line">             <span class="attr">success</span>:<span class="function"><span class="keyword">function</span>(<span class="params">data</span>)</span>&#123;</div><div class="line">                         $(<span class="string">"#content"</span>).html(data);</div><div class="line">            &#125;</div><div class="line">         &#125;)</div><div class="line">    &#125;</div><div class="line"></div><div class="line">&#125;);</div></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="https://leiwensu.github.io/wills/wills/2016/09/05/ES6/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="Wills">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/wills/images/avatar.png">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="Wills's blogs">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="Wills's blogs" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/wills/2016/09/05/ES6/" itemprop="url">
                  ES6新特性
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-09-05T00:00:00+08:00">
                2016-09-05
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/wills/categories/前端开发/" itemprop="url" rel="index">
                    <span itemprop="name">前端开发</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <a href="/wills/2016/09/05/ES6/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/09/05/ES6/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>ECMAScript 6.0(以下简称ES6)是、JavaScript语音的下一代标准，已经在2015年6月正式发布。目标是使得JavaScript语言可以用来编写复杂的大型应用程序，成为企业级开发语言。由于ES6的第一个版本是2015年发布的，所以又称ECMAScript 2015(简称ES2015)。</p>
<p>##ES6常用的特性有：</p>
<ol>
<li>let</li>
<li>const</li>
<li>extends</li>
<li>super</li>
<li>arrow functions</li>
<li>template string</li>
<li>destrucring</li>
<li>default</li>
<li>rest arguments</li>
</ol>
<h3 id="1-let-const"><a href="#1-let-const" class="headerlink" title="1. let,const"></a>1. let,const</h3><p>这两个的用途与var类似，都是用来声明变量的，但实际运用中他两都有各自特殊的用途。<br>如下例：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> name = <span class="string">'leiwensu'</span>;</div><div class="line"><span class="keyword">while</span>(<span class="literal">true</span>)&#123;</div><div class="line">    <span class="keyword">var</span> name = <span class="string">'obama'</span>;</div><div class="line">    <span class="built_in">console</span>.log(name);<span class="comment">//obama</span></div><div class="line">    <span class="keyword">break</span>;</div><div class="line">&#125;</div><div class="line"><span class="built_in">console</span>.log(name);<span class="comment">//obama</span></div></pre></td></tr></table></figure>
<p>使用var两次输出都是obama，这是因为es5只有全局作用域和函数作用域，没有块级作用域，这带来很多不合理的场景。第一种场景就是你现在看到的内层变量覆盖外层变量。而let则实际上为JavaScript新增了块级作用域。用它所声明的变量，只在let命令所在的代码块内有效。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> name = <span class="string">'leiwensu'</span>;</div><div class="line"><span class="keyword">while</span>(<span class="literal">true</span>)&#123;</div><div class="line">    <span class="keyword">let</span> name = <span class="string">'obama'</span>;</div><div class="line">    <span class="built_in">console</span>.log(name);<span class="comment">//obama</span></div><div class="line">    <span class="keyword">break</span>;</div><div class="line">&#125;</div><div class="line"><span class="built_in">console</span>.log(name);<span class="comment">//leiwenxiu</span></div></pre></td></tr></table></figure>
<p>另外一个var带来的不合理场景就是用来计数的循环变量泄露为全局变量，看下面的例子：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> a = [];</div><div class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</div><div class="line">  a[i] = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(i);</div><div class="line">  &#125;;</div><div class="line">&#125;</div><div class="line">a[<span class="number">6</span>](); <span class="comment">// 10</span></div></pre></td></tr></table></figure>
<p>上面代码中，变量i是var声明的，在全局范围内都有效。所以每一次循环，新的i值都会覆盖旧值，导致最后输出的是最后一轮的i的值。而使用let则不会出现这个问题。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> a = [];</div><div class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</div><div class="line">  a[i] = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(i);</div><div class="line">  &#125;;</div><div class="line">&#125;</div><div class="line">a[<span class="number">6</span>](); <span class="comment">// 6</span></div></pre></td></tr></table></figure>
<p>再来看一个更常见的例子，了解下如果不用ES6，而用闭包如何解决这个问题。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> clickBoxs = <span class="built_in">document</span>.querySelectorAll(<span class="string">'.clickBox'</span>)</div><div class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; clickBoxs.length; i++)&#123;</div><div class="line">    clickBoxs[i].onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">        <span class="built_in">console</span>.log(i)</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>我们本来希望的是点击不同的clickBox，显示不同的i，但事实是无论我们点击哪个clickBox，输出的都是5。下面我们来看下，如何用闭包搞定它。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 闭包</span></div><div class="line">        <span class="keyword">var</span> clickBox = <span class="built_in">document</span>.querySelectorAll(<span class="string">'.clickBox'</span>);</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; clickBox.length; i++) &#123;</div><div class="line">            clickBox[i].onclick = <span class="function"><span class="keyword">function</span> (<span class="params">i</span>) </span>&#123;</div><div class="line">                <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">                    <span class="built_in">console</span>.log(i);</div><div class="line">                &#125;</div><div class="line">                </div><div class="line">            &#125;(i)</div><div class="line">        &#125;</div></pre></td></tr></table></figure>
<p>const也用来声明变量，但是声明的是常量。一旦声明，常量的值就不能改变。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> PI = <span class="built_in">Math</span>.PI</div><div class="line">PI = <span class="number">23</span> <span class="comment">//Module build failed: SyntaxError: /es6/app.js: "PI" is read-only</span></div></pre></td></tr></table></figure>
<p>当我们尝试去改变用const声明的常量时，浏览器就会报错。<br>const有一个很好的应用场景，就是当我们引用第三方库的时声明的变量，用const来声明可以避免未来不小心重命名而导致出现bug：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> monent = <span class="built_in">require</span>(<span class="string">'moment'</span>)</div></pre></td></tr></table></figure>
<p>总结：</p>
<ul>
<li>let所声明的变量，只在let命令所在的代码块内有效</li>
<li>let所声明的变量，不存在变量提升，变量一定要在声明后使用，否则报错。</li>
<li>暂时性死区，ES6明确规定，如果区块中存在let和const命令，这个区块对这些命令声明的变量，从一开始就形成了封闭作用域。凡是在声明之前就使用这些变量，就会报错</li>
<li>不允许重复声明，let不允许在相同作用域内，重复声明同一个变量</li>
<li><p>let实际上为JavaScript新增了块级作用域，块级作用域的出现，实际上使得获得广泛应用的立即执行匿名函数（IIFE）不再必要了。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// IIFE写法</span></div><div class="line">(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">  <span class="keyword">var</span> tmp = ...;</div><div class="line">  ...</div><div class="line">&#125;());</div><div class="line"></div><div class="line"><span class="comment">// 块级作用域写法</span></div><div class="line">&#123;</div><div class="line">  <span class="keyword">let</span> tmp = ...;</div><div class="line">  ...</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>块级作用域与函数声明。ES5规定，函数只能在顶层作用域和函数作用域之中声明，不能在块级作用域声明。ES6引入了块级作用域，明确允许在块级作用域之中声明函数。</p>
</li>
</ul>
<p>全局对象的属性<br>ES5之中，全局对象的属性与全局变量是等价的，ES6为了改变这一点，一方面规定，为了保持兼容性，var命令和function命令声明的全局变量，依旧是全局对象的属性；另一方面规定，let命令、const命令、class命令声明的全局变量，不属于全局对象的属性。也就是说，从ES6开始，全局变量将逐步与全局对象的属性脱钩。<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> a = <span class="number">1</span>;</div><div class="line"><span class="comment">// 如果在Node的REPL环境，可以写成global.a</span></div><div class="line"><span class="comment">// 或者采用通用方法，写成this.a</span></div><div class="line"><span class="built_in">window</span>.a <span class="comment">// 1</span></div><div class="line"></div><div class="line"><span class="keyword">let</span> b = <span class="number">1</span>;</div><div class="line"><span class="built_in">window</span>.b <span class="comment">// undefined</span></div></pre></td></tr></table></figure></p>
<p>变量的解构赋值:</p>
<ol>
<li>数组的解构赋值<br>ES6允许按照一定模式，从数组和对象中提取值，对变量进行赋值，这被称为解构（Destructuring）。</li>
</ol>
<p>以前，为变量赋值，只能直接指定值。<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> a = <span class="number">1</span>;</div><div class="line"><span class="keyword">var</span> b = <span class="number">2</span>;</div><div class="line"><span class="keyword">var</span> c = <span class="number">3</span>;</div></pre></td></tr></table></figure></p>
<p>ES6允许写成这样：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> [a, b, c] = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</div></pre></td></tr></table></figure></p>
<ol>
<li><p>解构赋值允许指定默认值。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> [foo = <span class="literal">true</span>] = [];</div><div class="line">foo <span class="comment">// true</span></div><div class="line"></div><div class="line">[x, y = <span class="string">'b'</span>] = [<span class="string">'a'</span>]; <span class="comment">// x='a', y='b'</span></div><div class="line">[x, y = <span class="string">'b'</span>] = [<span class="string">'a'</span>, <span class="literal">undefined</span>]; <span class="comment">// x='a', y='b'</span></div></pre></td></tr></table></figure>
</li>
<li><p>对象的解构赋值<br>解构不仅可以用于数组，还可以用于对象。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> &#123;foo,bar&#125; = &#123;<span class="attr">foo</span>:<span class="string">"aaa"</span>,<span class="attr">bar</span>:<span class="string">"bbb"</span>&#125;;</div><div class="line">foo<span class="comment">//"aaa"</span></div><div class="line">bar<span class="comment">//"bbb"</span></div></pre></td></tr></table></figure>
</li>
</ol>
<p>对象的解构与数组有一个重要的不同。数组的元素是按次序排列的，变量的取值由它的位置决定；而对象的属性没有次序，变量必须与属性同名，才能取到正确的值。</p>
<h3 id="2-class-extends-super"><a href="#2-class-extends-super" class="headerlink" title="2. class, extends, super"></a>2. class, extends, super</h3><p>这三个特性涉及了ES5中最令人头疼的的几个部分：原型、构造函数，继承…你还在为它们复杂难懂的语法而烦恼吗？你还在为指针到底指向哪里而纠结万分吗？</p>
<p>有了ES6我们不再烦恼！</p>
<p>ES6提供了更接近传统语言的写法，引入了Class（类）这个概念。新的class写法让对象原型的写法更加清晰、更像面向对象编程的语法，也更加通俗易懂。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Anlimal</span></span>&#123;</div><div class="line">    <span class="keyword">constructor</span>()&#123;</div><div class="line">        <span class="keyword">this</span>.type = <span class="string">'animal'</span></div><div class="line">    &#125;</div><div class="line">    says(say)&#123;</div><div class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>.type+<span class="string">'says'</span>+say)</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">let</span> animal = <span class="keyword">new</span> Animal()</div><div class="line">animal.says(<span class="string">'hello'</span>)<span class="comment">//animal says hello</span></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cat</span> <span class="keyword">extends</span> <span class="title">Animal</span></span>&#123;</div><div class="line">    <span class="keyword">constructor</span>()&#123;</div><div class="line">        <span class="keyword">super</span>()</div><div class="line">        <span class="keyword">this</span>.type = <span class="string">'cat'</span></div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">let</span> cat = <span class="keyword">new</span> Cat()</div><div class="line">cat.says(<span class="string">'hello'</span>)<span class="comment">//cat says hello</span></div></pre></td></tr></table></figure>
<p>上面代码首先用class定义了一个“类”，可以看到里面有一个constructor方法，这就是构造方法，而this关键字则代表实例对象。简单地说，constructor内定义的方法和属性是实例对象自己的，而constructor外定义的方法和属性则是所有实例对象可以共享的。<br>Class之间可以通过extends关键字实现继承，这比ES5的通过修改原型链实现继承，要清晰和方便很多。上面定义了一个Cat类，该类通过extends关键字，继承了Animal类的所有属性和方法。</p>
<p>super关键字，它指代父类的实例（即父类的this对象）。子类必须在constructor方法中调用super方法，否则新建实例时会报错。这是因为子类没有自己的this对象，而是继承父类的this对象，然后对其进行加工。如果不调用super方法，子类就得不到this对象。</p>
<p>ES6的继承机制，实质是先创造父类的实例对象this（所以必须先调用super方法），然后再用子类的构造函数修改this。</p>
<h3 id="3-arrow-function"><a href="#3-arrow-function" class="headerlink" title="3. arrow function"></a>3. arrow function</h3><p>这个恐怕是ES6最最常用的一个新特性了，用它来写function比原来的写法要简洁清晰很多；</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span>(<span class="params">i</span>)</span>&#123;<span class="keyword">return</span> i + <span class="number">1</span>&#125;<span class="comment">//ES5</span></div><div class="line">(i)=&gt;i+<span class="number">1</span><span class="comment">//ES6</span></div></pre></td></tr></table></figure>
<p>简直是简单的不像话对吧…<br>如果方程比较复杂，则需要用{}把代码包起来：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span>(<span class="params">x, y</span>) </span>&#123; </div><div class="line">    x++;</div><div class="line">    y--;</div><div class="line">    <span class="keyword">return</span> x + y;</div><div class="line">&#125;</div><div class="line">(x, y) =&gt; &#123;x++; y--; <span class="keyword">return</span> x+y&#125;</div></pre></td></tr></table></figure>
<p>除了看上去更简洁以外，arrow function还有一项超级无敌的功能！<br>长期以来，JavaScript语言的this对象一直是一个令人头痛的问题，在对象方法中使用this，必须非常小心。例如：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Animal</span></span>&#123;</div><div class="line">    <span class="keyword">constructor</span>()&#123;</div><div class="line">        <span class="keyword">this</span>.type = <span class="string">'animal'</span></div><div class="line">    &#125;</div><div class="line">    says(say)&#123;</div><div class="line">        setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">            <span class="built_in">console</span>.log(<span class="keyword">this</span>.type+<span class="string">'says'</span>+say)</div><div class="line">            &#125;,<span class="number">1000</span>)</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">var</span> animal = <span class="keyword">new</span> Animal()</div><div class="line">animal.says(<span class="string">'hi'</span>)<span class="comment">//undefined says hi</span></div></pre></td></tr></table></figure>
<p>运行上面的代码会报错，这是因为setTimeout中的this指向的是全局对象。所以为了让它能够正确的运行，传统的解决方法有两种：</p>
<p>1.第一种是将this传给self,再用self来指代this</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">says(say)&#123;</div><div class="line">  <span class="keyword">var</span> self = <span class="keyword">this</span>;</div><div class="line">  setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">  <span class="built_in">console</span>.log(self.type + <span class="string">' says '</span> + say)</div><div class="line">&#125;, <span class="number">1000</span>)</div></pre></td></tr></table></figure>
<p>2.第二种方法是用bind(this),即</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">says(say)&#123;</div><div class="line">  setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">  <span class="built_in">console</span>.log(<span class="keyword">this</span>.type + <span class="string">' says '</span> + say)</div><div class="line">&#125;.bind(<span class="keyword">this</span>), <span class="number">1000</span>)</div></pre></td></tr></table></figure>
<p>但现在我们有了箭头函数，就不需要这么麻烦了：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Animal</span> </span>&#123;</div><div class="line">    <span class="keyword">constructor</span>()&#123;</div><div class="line">        <span class="keyword">this</span>.type = <span class="string">'animal'</span></div><div class="line">    &#125;</div><div class="line">    says(say)&#123;</div><div class="line">        setTimeout( <span class="function"><span class="params">()</span> =&gt;</span> &#123;</div><div class="line">            <span class="built_in">console</span>.log(<span class="keyword">this</span>.type + <span class="string">' says '</span> + say)</div><div class="line">        &#125;, <span class="number">1000</span>)</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"> <span class="keyword">var</span> animal = <span class="keyword">new</span> Animal()</div><div class="line"> animal.says(<span class="string">'hi'</span>)  <span class="comment">//animal says hi</span></div></pre></td></tr></table></figure>
<p>当我们使用箭头函数时，函数体内的this对象，就是定义时所在的对象，而不是使用时所在的对象。<br>并不是因为箭头函数内部有绑定this的机制，实际原因是箭头函数根本没有自己的this，它的this是继承外面的，因此内部的this就是外层代码块的this。</p>
<h3 id="4-template-string"><a href="#4-template-string" class="headerlink" title="4. template string"></a>4. template string</h3><p>这个东西也是非常有用，当我们要插入大段的html内容到文档中时，传统的写法非常麻烦，所以之前我们通常会引用一些模板工具库，比如mustache等等<br>大家可以先看下面一段代码：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">$(<span class="string">"#result"</span>).append(</div><div class="line">  <span class="string">"There are &lt;b&gt;"</span> + basket.count + <span class="string">"&lt;/b&gt; "</span> +</div><div class="line">  <span class="string">"items in your basket, "</span> +</div><div class="line">  <span class="string">"&lt;em&gt;"</span> + basket.onSale +</div><div class="line">  <span class="string">"&lt;/em&gt; are on sale!"</span></div><div class="line">);</div></pre></td></tr></table></figure>
<p>我们要用一堆的’+’号来连接文本与变量，而使用ES6的新特性模板字符串``后，我们可以直接这么来写：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">$(<span class="string">"#result"</span>).append(<span class="string">`</span></div><div class="line">  There are &lt;b&gt;<span class="subst">$&#123;basket.count&#125;</span>&lt;/b&gt; items</div><div class="line">   in your basket, &lt;em&gt;<span class="subst">$&#123;basket.onSale&#125;</span>&lt;/em&gt;</div><div class="line">  are on sale!</div><div class="line">`);</div></pre></td></tr></table></figure>
<p>用反引号（\）来标识起始，用${}`来引用变量，而且所有的空格和缩进都会被保留在输出之中，是不是非常爽？！</p>
<h3 id="5-destructuring"><a href="#5-destructuring" class="headerlink" title="5. destructuring"></a>5. destructuring</h3><p>ES6允许按照一定模式，从数组和对象中提取值，对变量进行赋值，这被称为解构（Destructuring）。</p>
<p>看下面的例子：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> cat = <span class="string">'ken'</span></div><div class="line"><span class="keyword">let</span> dog = <span class="string">'lili'</span></div><div class="line"><span class="keyword">let</span> zoo = &#123;<span class="attr">cat</span>: cat, <span class="attr">dog</span>: dog&#125;</div><div class="line"><span class="built_in">console</span>.log(zoo)  <span class="comment">//Object &#123;cat: "ken", dog: "lili"&#125;</span></div></pre></td></tr></table></figure>
<p>用ES6完全可以像下面这么写：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> cat = <span class="string">'ken'</span></div><div class="line"><span class="keyword">let</span> dog = <span class="string">'lili'</span></div><div class="line"><span class="keyword">let</span> zoo = &#123;cat, dog&#125;</div><div class="line"><span class="built_in">console</span>.log(zoo)  <span class="comment">//Object &#123;cat: "ken", dog: "lili"&#125;</span></div></pre></td></tr></table></figure>
<p>反过来可以这么写：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> dog = &#123;<span class="attr">type</span>: <span class="string">'animal'</span>, <span class="attr">many</span>: <span class="number">2</span>&#125;</div><div class="line"><span class="keyword">let</span> &#123; type, many&#125; = dog</div><div class="line"><span class="built_in">console</span>.log(type, many)   <span class="comment">//animal 2</span></div></pre></td></tr></table></figure>
<p>###default, rest<br>default很简单，意思就是默认值。大家可以看下面的例子，调用animal()方法时忘了传参数，传统的做法就是加上这一句type = type || ‘cat’ 来指定默认值。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">animal</span>(<span class="params">type</span>)</span>&#123;</div><div class="line">    type = type || <span class="string">'cat'</span>  </div><div class="line">    <span class="built_in">console</span>.log(type)</div><div class="line">&#125;</div><div class="line">animal()</div></pre></td></tr></table></figure>
<p>如果用ES6我们而已直接这么写：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">animal</span>(<span class="params">type = <span class="string">'cat'</span></span>)</span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(type)</div><div class="line">&#125;</div><div class="line">animal()</div></pre></td></tr></table></figure>
<p>最后一个rest语法也很简单，直接看例子：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// arguments变量的写法</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">animals</span>(<span class="params"></span>) </span>&#123;</div><div class="line">  <span class="built_in">console</span>.log(<span class="built_in">Array</span>.prototype.slice.call(<span class="built_in">arguments</span>));</div><div class="line">&#125;</div><div class="line">animals(<span class="string">'cat'</span>, <span class="string">'dog'</span>, <span class="string">'fish'</span>) <span class="comment">//["cat", "dog", "fish"]</span></div><div class="line"></div><div class="line"><span class="comment">// rest参数的写法</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">animals</span>(<span class="params">...types</span>)</span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(types)</div><div class="line">&#125;</div><div class="line">animals(<span class="string">'cat'</span>, <span class="string">'dog'</span>, <span class="string">'fish'</span>) <span class="comment">//["cat", "dog", "fish"]</span></div></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// arguments变量的写法</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">sortNumbers</span>(<span class="params"></span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> <span class="built_in">Array</span>.prototype.slice.call(<span class="built_in">arguments</span>).sort();</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// rest参数的写法</span></div><div class="line"><span class="keyword">const</span> sortNumbers = <span class="function">(<span class="params">...numbers</span>) =&gt;</span> numbers.sort();</div></pre></td></tr></table></figure>
<p>而如果不用ES6的话，我们则得使用ES5的arguments。</p>
<h3 id="ES6生成器（Generators）"><a href="#ES6生成器（Generators）" class="headerlink" title="ES6生成器（Generators）"></a>ES6生成器（Generators）</h3><p>什么是生成器？<br>我们从一个实例开始：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span>* <span class="title">quips</span>(<span class="params">name</span>) </span>&#123;</div><div class="line">  <span class="keyword">yield</span> <span class="string">"你好 "</span> + name + <span class="string">"!"</span>;</div><div class="line">  <span class="keyword">yield</span> <span class="string">"希望你能喜欢这篇介绍ES6的译文"</span>;</div><div class="line">  <span class="keyword">if</span> (name.startsWith(<span class="string">"X"</span>)) &#123;</div><div class="line">    <span class="keyword">yield</span> <span class="string">"你的名字 "</span> + name + <span class="string">"  首字母是X，这很酷！"</span>;</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">yield</span> <span class="string">"我们下次再见！"</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>看起来很像一个函数，我们称之为生成器函数，它与普通函数有很多共同点，但是二者有如下区别：</p>
<ul>
<li>普通函数使用function声明，而生成器函数使用function*声明</li>
<li>在生成器函数内部，有一种类似return的语法：关键字yield。二者的区别是，普通函数只可以return一次，而生成器函数可以yield多次（当然也可以只yield一次）。在生成器的执行过程中，遇到yield表达式立即暂停，后续可恢复执行状态。<br>这就是普通函数和生成器函数之间最大的区别，普通函数不能自暂停，生成器函数可以。</li>
</ul>
<p>生成器做了什么？<br>当你调用quips()生成器函数时发生了什么？</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">&gt; <span class="keyword">var</span> iter = quips(<span class="string">"jorendorff"</span>);</div><div class="line">  [object Generator]</div><div class="line">&gt; iter.next()</div><div class="line">  &#123; <span class="attr">value</span>: <span class="string">"你好 jorendorff!"</span>, <span class="attr">done</span>: <span class="literal">false</span> &#125;</div><div class="line">&gt; iter.next()</div><div class="line">  &#123; <span class="attr">value</span>: <span class="string">"希望你能喜欢这篇介绍ES6的译文"</span>, <span class="attr">done</span>: <span class="literal">false</span> &#125;</div><div class="line">&gt; iter.next()</div><div class="line">  &#123; <span class="attr">value</span>: <span class="string">"我们下次再见！"</span>, <span class="attr">done</span>: <span class="literal">false</span> &#125;</div><div class="line">&gt; iter.next()</div><div class="line">  &#123; <span class="attr">value</span>: <span class="literal">undefined</span>, <span class="attr">done</span>: <span class="literal">true</span> &#125;</div></pre></td></tr></table></figure>
<h3 id="字符串的扩展"><a href="#字符串的扩展" class="headerlink" title="字符串的扩展"></a>字符串的扩展</h3><ol>
<li>字符串的遍历器接口<br>ES6为字符串添加了遍历器接口（详见《Iterator》一章），使得字符串可以被for…of循环遍历。<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">for (let codePoint of &apos;foo&apos;) &#123;</div><div class="line">  console.log(codePoint)</div><div class="line">&#125;</div><div class="line">// &quot;f&quot;</div><div class="line">// &quot;o&quot;</div><div class="line">// &quot;o&quot;</div></pre></td></tr></table></figure></li>
</ol>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="https://leiwensu.github.io/wills/wills/2016/09/02/rule/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="Wills">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/wills/images/avatar.png">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="Wills's blogs">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="Wills's blogs" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/wills/2016/09/02/rule/" itemprop="url">
                  前端性能优化的14个规则!
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-09-02T00:00:00+08:00">
                2016-09-02
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/wills/categories/前端开发/" itemprop="url" rel="index">
                    <span itemprop="name">前端开发</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <a href="/wills/2016/09/02/rule/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/09/02/rule/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>规则01：尽量减少HTTP请求</p>
<p>前端优化的黄金准则指导着前端页面的优化策略：只有10%-20%的最终用户响应时间花在接受请求的HTML文档上，剩下的80%-90%时间花在为HTML文档所引用的所有组件（图片、脚本、样式表等）进行的HTTP请求上。因此，改善响应时间的最简单途径就是减少组件的数量，并由此减少HTTP请求的数量。当然很多人就会说，既然这样，那我们就减少页面组件的数量不就OK了吗？那你试试，你会掀起一场性能优化和产品设计之间的大PK。所以，我们要减少HTTP请求是要平衡性能和设计的。如果找到这个平衡点呢？书中从以下几个方面做了介绍，我逐一说明：</p>
<p>①   图片地图</p>
<p>初看“图片地图”四个字，对非专业的前端人员来说一头雾水，我的第一印象就是这样的，咱们以京东的移动站点为例，右侧用户和购物车的图标，正常实现我会选择如下方式：</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">&lt;a href="用户跳转页面URL"&gt;</div><div class="line">    &lt;div class=”定义用户icon显示的样式表”&gt;&lt;/div&gt;</div><div class="line">&lt;/a&gt;</div><div class="line">&lt;a href="购物车跳转页面URL"&gt;</div><div class="line">    &lt;div class="定义用户icon显示的样式表"&gt;&lt;/div&gt;</div><div class="line">&lt;/a&gt;</div></pre></td></tr></table></figure>
<p>这种方式无可厚非的，但是两张图片就有两个HTTP请求，这明显是增加了页面中的HTTP请求。</p>
<p>那么我们可以把这两个HTTP请求变成一个吗？答案当然是可以的，这就是图片地图：允许在一张图片上关联多个URL，而目标URL的选择取决于用户单击了图片上的哪个位置。这样上面京东两个图标合并成一张图片，这样图片的HTTP请求就减少了一个。</p>
<p>示例代码如下：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">&lt;img src=<span class="string">"合并后的图片"</span>&gt;</div><div class="line"></div><div class="line">&lt;map name="map1"&gt;</div><div class="line">    &lt;area shape="rect" coords="0,0,40,40" href="用户跳转页面URL"&gt;</div><div class="line">    &lt;area shape="rect" coords="50,0,90,40" href="购物车跳转页面URL"&gt;</div><div class="line">&lt;/map&gt;</div></pre></td></tr></table></figure>
<p>不过图片地图只支持矩形形状，其他形状不支持。</p>
<p>②   请CSS喝“雪碧”（CSS Sprites）</p>
<p>CSS Sprites一句话：将多个图片合并到一张单独的图片，这样就大大减少了页面中图片的HTTP请求。</p>
<p>③   内联图片和脚本</p>
<p>使用data:URL（Base64编码）模式直接将图片包含在Web页面中而无需进行HTTP请求。</p>
<p>但是此种方法存在明显缺陷：</p>
<ul>
<li><p>不受IE的欢迎；</p>
</li>
<li><p>图片太大不宜采用这种方式，因为Base64编码之后会增加图片大小，这样页面整体的下载量会变大；</p>
</li>
<li><p>内联图片在页面跳转的时候不会被缓存。（大图片可以使用浏览器的本地缓存，在首次访问的时候保存到浏览器缓存中，典型的是HTML5的manifest缓存机制以及LocalStorage等）。</p>
</li>
</ul>
<p>④   样式表的合并</p>
<p>将页面样式定义、脚本、页面本身代码严格区分开，但是样式表、脚本也不是分割越细越好，因为没多引用一个样式表就增加一次HTPP请求，能合并的样式表尽量合并。一个网站有一个公用样式表定义，每个页面只要有一个样式表就OK啦。</p>
<p>通过以上四个努力之后，你会发现你的网页响应时间最多能减少一半，这不是作者说大话，也不是我狂吹，我亲手用我的移动网站首页做了一个尝试，本地测试之后响应时间能减少40%左右。所以减少页面HTTP请求数量，是一个很重要的原则。遵循此原则可以同时改善首次访问和后续访问的响应时间，而每一个网站的首次响应时间会决定用户之后还来不来的重要原因。</p>
<h3 id="规则02：使用内容发布网络（CDN的使用）"><a href="#规则02：使用内容发布网络（CDN的使用）" class="headerlink" title="规则02：使用内容发布网络（CDN的使用）"></a>规则02：使用内容发布网络（CDN的使用）</h3><p>什么叫内容发布网络（CDN）？它是一组分布在多个不同地理位置的Web服务器，用于更加有效地向用户发布内容。主要用于发布页面静态资源：图片、css文件、js文件等。如此，能轻易地提高响应速度。</p>
<p>关于CDN的具体详细原理以及优缺点，各位可以自行询问度娘或者google。</p>
<h3 id="规则03：添加Expires头"><a href="#规则03：添加Expires头" class="headerlink" title="规则03：添加Expires头"></a>规则03：添加Expires头</h3><p>浏览器使用缓存来减少HTTP请求的数据，并减小HTTP响应的大小，使页面加载更快。Web服务器使用Expires头来告诉浏览器它可以使用一个组件的当前副本，直到指定的deadline为止。HTTP规范中称此头为：在这一时间之后响应被认为失效。</p>
<p>个人对这块表示不想使用，其实就是一句话，把一些css、js、图片在首次访问的时候全部缓存到浏览器本地，从我做移动网站的过程中发现，其实没有这么复杂，完全可以使用HTML5提供的本地缓存机制就OK了。关于HTML5本地缓存机制，各位可以查阅相关资料。后续我也会对HTML5的缓存机制进行介绍的。</p>
<h3 id="规则04：压缩组件（使用Gzip方式）"><a href="#规则04：压缩组件（使用Gzip方式）" class="headerlink" title="规则04：压缩组件（使用Gzip方式）"></a>规则04：压缩组件（使用Gzip方式）</h3><p>书中关于压缩从gzip压缩方式到如何压缩讲了很多，我想直接跳过，对于做PC网站或者移动网站来说，急需要压缩的是css文件和js文件，至于如何压缩，网上有很多在线工具，去挑选一个自己用的顺手看的顺眼的就好，当然也有人选择对HTML进行压缩，这样也可以。但是实际工作中我没有这么做。之所谓没有这么做，是因为我觉得很麻烦。不要鄙视我，毕竟我不是一个真正意义上的前端工程师，哈哈！</p>
<h3 id="规则05：将CSS样式表放在顶部"><a href="#规则05：将CSS样式表放在顶部" class="headerlink" title="规则05：将CSS样式表放在顶部"></a>规则05：将CSS样式表放在顶部</h3><p>如果将css样式定义放在页面中或者页面底部，会出现短暂白屏或者某一区域短暂白板的情况，这和浏览器的运营机制有关的，不管页面如何加载，页面都是逐步呈现的。所以在每做一个页面的时候，用Link标签把每一个样式表定义放在head中。</p>
<h3 id="规则06：将javascript脚本放在底部"><a href="#规则06：将javascript脚本放在底部" class="headerlink" title="规则06：将javascript脚本放在底部"></a>规则06：将javascript脚本放在底部</h3><p>浏览器在加载css文件时，页面逐步呈现会被阻止，直到所有css文件加载完毕，所以要把css文件的引用放到head中去，这样在加载css文件时不会组织页面的呈现。但是对于js文件，在使用的时候，它下面所有也页面内容的呈现都会被阻塞，将脚本放在页面越靠下的地方，就意味着越多的内容能够逐步呈现。</p>
<h3 id="规则07：避免使用CSS表达式"><a href="#规则07：避免使用CSS表达式" class="headerlink" title="规则07：避免使用CSS表达式"></a>规则07：避免使用CSS表达式</h3><p>CSS表达式是动态玩CSS的一种很强大的方式，但是强大的同时也存在很高的危险性。因为css表达式的频繁求值会导致css表达式性能低下。如果真想玩css表达式，可以选用只求值一次的表达式或者使用事件处理来改变css的值。</p>
<h3 id="规则08：使用外部javascript和CSS"><a href="#规则08：使用外部javascript和CSS" class="headerlink" title="规则08：使用外部javascript和CSS"></a>规则08：使用外部javascript和CSS</h3><p>内联js和css其实比外部文件有更快的响应速度，那为什么还要用外部呢？因为使用外部的js和css可以让浏览器缓存他们，这样不仅HTML文档大小减少，而且不会增加HTTP请求数量。</p>
<p>另外，使用外部js和css可以提高组件的可复用性。</p>
<h3 id="规则09：减少DNS查询"><a href="#规则09：减少DNS查询" class="headerlink" title="规则09：减少DNS查询"></a>规则09：减少DNS查询</h3><p>DNS查询有时间开销，通常一个浏览器查找一个给定主机名的IP地址需要20-120ms。</p>
<p>缓存DNS：缓存DNS查询可以很好地提高网页性能，一旦缓存了DNS查询，之后对于相同主机名的请求就无需进行再次的DNS查找，至少短时间内不需要。</p>
<p>所以在使用页面中URL、图片、js文件、css文件等时，不要使用过多不同的主机名。</p>
<h3 id="规则10：精简javascript"><a href="#规则10：精简javascript" class="headerlink" title="规则10：精简javascript"></a>规则10：精简javascript</h3><p>如何精简？最初始的精简方式就是移除不必要的字符减小js文件大小，改善加载时间。包括所有的注释、不必要的空白字符。</p>
<p>高级一点的精简方式就是：混淆。它不但会移除不必要的字符，还会改写代码，比如函数和变量的名字会被改成很短的字符串，这样使js代码更简练更难阅读。</p>
<p>但是我一般很少使用混淆，一个现在互联网时代，代码没有必要整的那么神秘，大可以大家一起share，天下代码一起抄，只要抄出自己的特色就ok了。而且一旦使用混淆，对于js代码的维护和调试都很复杂，因为有时候混淆之后的js代码完全看不懂。</p>
<p>其实实际开发过程中，从文件大小和代码可复用性来说，不仅仅是js代码需要精简，css代码一样也很需要精简。</p>
<h3 id="规则11：避免重定向"><a href="#规则11：避免重定向" class="headerlink" title="规则11：避免重定向"></a>规则11：避免重定向</h3><p>重定向的英文是Redirect，用于将用户从一个URL重新跳转到另一个URL。最常见的Redirect就是301和302两种。</p>
<p>关于重定向的性能影响这里就不说了，自行查阅相关资料吧。</p>
<p>在我们实际开发中避免重定向最简单也最容易被忽视的一个问题就是，设置URL的时候，最后的“/”，有些人有时候会忽略，其实你少了“/”，这时候的URL就被重定向了，所以在给页面链接加URL的时候切记最后的“/”不可丢。</p>
<h3 id="规则12：删除重复脚本"><a href="#规则12：删除重复脚本" class="headerlink" title="规则12：删除重复脚本"></a>规则12：删除重复脚本</h3><p>重复的js代码除了有不必要的HTTP请求之外，还会浪费执行js的时间。</p>
<p>将你使用的js代码模块化，可以很好地避免这个问题，至于js模块化如何实现，现在有很多可以使用的开源框架，我用的比较多的是我们公司玉伯的Sea.js。</p>
<h3 id="规则13：配置ETag"><a href="#规则13：配置ETag" class="headerlink" title="规则13：配置ETag"></a>规则13：配置ETag</h3><p>Etag（EntityTag），实体标签，是Web服务器和浏览器用户确认缓存组件的有效性的一种机制。</p>
<p>写的很复杂，对我这种非专业的前端开发人员来说，有点过了，关于这个原则有兴趣的自己看吧。</p>
<h3 id="规则14：使Ajax可缓存"><a href="#规则14：使Ajax可缓存" class="headerlink" title="规则14：使Ajax可缓存"></a>规则14：使Ajax可缓存</h3><p>针对页面中主动的Ajax请求返回的数据要缓存到本地，当然这个是针对短期内不会变化的数据。如果不确定数据变化周期的话，可以增加一个修改标识的判断，我正常处理过程中会给一些Ajax请求返回的数据增加一个MD5值的判断，每次请求会判断当前MD5是否变化，如果变化了取最新的数据，如果不变化，则不变。</p>
<p>噼里啪啦说了一堆，14个规则啊，那我们开发过程中要针对这每一个规则对自己的前端代码做check吗？我反正不这么干，做前端页面，尤其是移动网站的页面，我所记住的准则就是：尽量减少页面大小，尽量降低页面响应时间。在页面性能和交互设计之中找平衡点。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="https://leiwensu.github.io/wills/wills/2016/09/02/note/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="Wills">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/wills/images/avatar.png">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="Wills's blogs">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="Wills's blogs" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/wills/2016/09/02/note/" itemprop="url">
                  编程过程中的一些笔记
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-09-02T00:00:00+08:00">
                2016-09-02
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/wills/categories/前端开发/" itemprop="url" rel="index">
                    <span itemprop="name">前端开发</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <a href="/wills/2016/09/02/note/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/09/02/note/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>这是一些我在前端代码编写过程中的一些笔记，有一些平常经常会遇到的，但是又容易忘记，所以做了以下笔记。</p>
<h3 id="1-关于表格"><a href="#1-关于表格" class="headerlink" title="1. 关于表格"></a>1. 关于表格</h3><p>在一些数据的展示方面通常都要使用表格，这时候，表格的大小样式方面显得非常重要。因为一旦表格大小不合适，容易造成变形。以下是一般表格的模板：</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line">&lt;table class="dp-tab"&gt;</div><div class="line">    &lt;thead&gt;</div><div class="line">        &lt;tr&gt;</div><div class="line">            &lt;th width="65"&gt; 店铺类型&lt;/th&gt;</div><div class="line">            &lt;th width="120"&gt;店铺名称&lt;/th&gt;</div><div class="line">            &lt;th width="100"&gt;提交日期&lt;/th&gt;</div><div class="line">            &lt;th width="100"&gt;申请成功日期&lt;/th&gt;</div><div class="line">            &lt;th width="60"&gt;状态&lt;/th&gt;</div><div class="line">            &lt;th&gt;备注&lt;/th&gt;</div><div class="line">            &lt;th width="50"&gt;操作&lt;/th&gt;</div><div class="line">        &lt;/tr&gt;</div><div class="line">    &lt;/thead&gt;</div><div class="line">    &lt;tbody&gt;</div><div class="line">        &lt;tr&gt;</div><div class="line">            &lt;td&gt;@item.ShopTypeName&lt;/td&gt;</div><div class="line">            &lt;td&gt;@item.ShopName&lt;/td&gt;</div><div class="line">            &lt;td&gt;&lt;/td&gt;</div><div class="line">            &lt;td&gt;&lt;/td&gt;</div><div class="line">            &lt;td class="dp-red"&gt;@item.ApplyStatus&lt;/td&gt;</div><div class="line">            &lt;td&gt;@item.Remark&lt;/td&gt;</div><div class="line">            &lt;td&gt;&lt;a href="/shop/input&gt;详情&lt;/a&gt;&lt;/td&gt;</div><div class="line">        &lt;/tr&gt;</div><div class="line">    &lt;/tbody&gt;</div><div class="line">&lt;/table&gt;</div></pre></td></tr></table></figure>
<p>如上图所示，先把能确定最大大小的单元格宽度全部固定下来，剩下一个可能内容比较多且宽度不固定的单元格不加宽度，使其自适应。</p>
<h3 id="2-使用z-index改变元素层级"><a href="#2-使用z-index改变元素层级" class="headerlink" title="2. 使用z-index改变元素层级"></a>2. 使用z-index改变元素层级</h3><p>使用z-index改变元素层级时，要对该元素加定位，一般使用</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">position:relative</div></pre></td></tr></table></figure>
<h3 id="3-清除浮动"><a href="#3-清除浮动" class="headerlink" title="3. 清除浮动"></a>3. 清除浮动</h3><p>在平常我们coding时候经常会发生子元素浮动而引起父级元素不能完全撑开的状况，解决办法:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="number">1.</span> 对父级元素添加以下样式：</div><div class="line">.parent&#123;</div><div class="line">   <span class="attr">overflow</span>:hidden;</div><div class="line">   zoom:<span class="number">1</span>; </div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="number">2.</span> 对父级元素添加以下样式：</div><div class="line">.parent:after&#123;</div><div class="line">    <span class="attr">content</span>: <span class="string">"."</span>;</div><div class="line">    display: block;</div><div class="line">    height: <span class="number">0</span>;</div><div class="line">    clear: both;</div><div class="line">    visibility: hidden;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="4-文本模糊效果"><a href="#4-文本模糊效果" class="headerlink" title="4. 文本模糊效果"></a>4. 文本模糊效果</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">.blur &#123;</div><div class="line">   <span class="attr">color</span>: transparent;</div><div class="line">   text-shadow: <span class="number">0</span> <span class="number">0</span> <span class="number">5</span>px rgba(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0.5</span>);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="5-jquery遍历函数"><a href="#5-jquery遍历函数" class="headerlink" title="5. jquery遍历函数"></a>5. jquery遍历函数</h3><ol>
<li>filter(expression)<br>过滤掉与expression参数值指定的标准不匹配（返回值为false）的元素集合，例子：</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$(<span class="string">'td'</span>).filter(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.innerHTML.match(<span class="regexp">/^\d+$/</span>);</div><div class="line">    &#125;);</div></pre></td></tr></table></figure>
<ol>
<li>map(callback)<br>将元素集合中的每一个元素调用回调函数，并将返回值收集到jQuery对象实例中，例子：</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> allIds = $(<span class="string">'div'</span>).map(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">return</span> (<span class="keyword">this</span>.id==<span class="literal">undefined</span>)?<span class="literal">null</span>:<span class="keyword">this</span>.id;</div><div class="line">    &#125;).get();</div></pre></td></tr></table></figure>
<ol>
<li>each(callback)<br>遍历匹配集里所有的元素，为每一个元素调用传入的迭代函数，例子：</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]).each(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    alert(<span class="keyword">this</span>);</div><div class="line">    &#125;);</div></pre></td></tr></table></figure>
<h3 id="6-iframe的bug"><a href="#6-iframe的bug" class="headerlink" title="6. iframe的bug"></a>6. iframe的bug</h3><p>使用iframe标签时，如果iframe标签不闭合，即<iframe src="http://www.baidu.com">会导致iframe标签后面的js代码不执行，所以iframe标签最好是写成：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;iframe src=<span class="string">""</span>&gt;&lt;/iframe&gt;</div></pre></td></tr></table></figure></iframe></p>
<h3 id="7-鼠标放在图片上，图片放大显示"><a href="#7-鼠标放在图片上，图片放大显示" class="headerlink" title="7. 鼠标放在图片上，图片放大显示"></a>7. 鼠标放在图片上，图片放大显示</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> imgWid = <span class="number">0</span> ;</div><div class="line"><span class="keyword">var</span> imgHei = <span class="number">0</span> ; <span class="comment">//变量初始化</span></div><div class="line"><span class="keyword">var</span> big = <span class="number">1.1</span>;<span class="comment">//放大倍数</span></div><div class="line">$(<span class="string">'.sw-con1,.sw-con2,.sw-con3'</span>).hover(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    $(<span class="keyword">this</span>).find(<span class="string">"img"</span>).stop(<span class="literal">true</span>,<span class="literal">true</span>);</div><div class="line">    <span class="keyword">var</span> imgWid2 = <span class="number">0</span>;</div><div class="line">    <span class="keyword">var</span> imgHei2 = <span class="number">0</span>;<span class="comment">//局部变量</span></div><div class="line">    imgWid = $(<span class="keyword">this</span>).find(<span class="string">"img"</span>).width();</div><div class="line">    imgHei = $(<span class="keyword">this</span>).find(<span class="string">"img"</span>).height();</div><div class="line">    imgWid2 = imgWid * big;</div><div class="line">    imgHei2 = imgHei * big;</div><div class="line">    $(<span class="keyword">this</span>).find(<span class="string">'img'</span>).animate(&#123;</div><div class="line">        <span class="attr">width</span>: imgWid2,</div><div class="line">        <span class="attr">height</span>: imgHei2</div><div class="line">    &#125;,<span class="string">"slow"</span></div><div class="line">    );</div><div class="line">&#125;, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    $(<span class="keyword">this</span>).find(<span class="string">"img"</span>).stop().animate(&#123;<span class="string">"width"</span>:imgWid,<span class="string">"height"</span>:imgHei&#125;);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<h3 id="8-解决img标签间距问题"><a href="#8-解决img标签间距问题" class="headerlink" title="8. 解决img标签间距问题"></a>8. 解决img标签间距问题</h3><p>关于img标签间距问题：<br>  多个img之间有间距，包含img标签的div之间有间距块级元素包含内联元素如图片文字等时，内联元素默认是和父级元素的baseline（基线）对齐的，而baseline又和父级元素底边有一定的距离（这个距离和font有关，不一定是5px），所以以上代码的效果中不同div之间有间隙，这是因为图片与父元素的底边有距离。说到baseline呢，其实它是vertical-align属性的默认值，vertical-align属性是设置元素的垂直排列的，用来定义行内元素的基线相对于该元素所在行的基线的垂直对齐，除了baseline对齐方式之外，还可以是sub | super | top | text-top | middle | bottom | text-bottom |inherit（任何的版本的Internet Explorer （包括 IE8）都不支持属性值 “inherit”）。</p>
<p>　　知道了问题产生的原因，就好对症下药解决问题了，其实就是要消除baseline对齐方式产生的距离。所以，<br>　　方法1:很容易想到，把对齐方式改一下不就好了，于是设置img的vertical-align属性为bottom；</p>
<p>　　方法2:就是上文说的给父元素加上font-size:0的属性，既然这个距离和font有关，那么把字体大小设为0，总该没有距离了吧；</p>
<p>　　方法3：可由方法二想到，既然为0可以，那把行高设的很小可不可以呢？经试验发现，本例图片大小为200px，设line-height不大于12就能够消除间隙了，鉴于这个距离一般是5px，所以可以把line-height设为5px左右；</p>
<p>　　另外一个间隙是多个img标签的左右间隙，是由于img标签是行内元素，而事实是当行内元素之间有“回车”、“tab”、“空格”时就会出现间隙。</p>
<p>　　所以方法就是上文提到的，去掉img标签之间所有的空格，如果又不想把所有连续的行内元素写到一行，可以多行注释，把空格回车什么的注释掉，就像下图这样；当连续的行内元素不是img时，也可以通过设置父元素的font-size为0来消除左右间隙。<br>方法四：把img变成块级元素</p>
<h3 id="9-移动端字体设置："><a href="#9-移动端字体设置：" class="headerlink" title="9. 移动端字体设置："></a>9. 移动端字体设置：</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">body &#123;</div><div class="line">     font-family: <span class="string">"Helvetica Neue"</span>, Helvetica, STHeiTi, sans-serif;</div><div class="line"> &#125;</div><div class="line"> <span class="comment">//使用rem单位时，html的字体一般设置</span></div><div class="line"> @media only screen and (min-width: <span class="number">641</span>px)</div><div class="line">     html &#123;</div><div class="line">         font-size: <span class="number">125</span>%!important;</div><div class="line">     &#125;</div><div class="line"> @media only screen and (min-width: <span class="number">561</span>px)</div><div class="line">     html &#123;</div><div class="line">         font-size: <span class="number">109</span>%!important;</div><div class="line">     &#125;</div><div class="line"> @media only screen and (min-width: <span class="number">481</span>px)</div><div class="line">     html &#123;</div><div class="line">         font-size: <span class="number">94</span>%!important;</div><div class="line">     &#125;</div><div class="line"> html &#123;</div><div class="line">     font-size: <span class="number">62.5</span>%;</div><div class="line"> &#125;</div></pre></td></tr></table></figure>
<h3 id="10-chrome浏览器，将html网页中input-file-元素css样式中的’cursor’属性设置为’pointer’，但是鼠标移上去后的形状还是箭头。"><a href="#10-chrome浏览器，将html网页中input-file-元素css样式中的’cursor’属性设置为’pointer’，但是鼠标移上去后的形状还是箭头。" class="headerlink" title="10. chrome浏览器，将html网页中input [file] 元素css样式中的’cursor’属性设置为’pointer’，但是鼠标移上去后的形状还是箭头。"></a>10. chrome浏览器，将html网页中input [file] 元素css样式中的’cursor’属性设置为’pointer’，但是鼠标移上去后的形状还是箭头。</h3><p>解决办法：</p>
<p>为input [file]元素添加css样式：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">font-size：<span class="number">0</span>;</div><div class="line">cursor:pointer;</div></pre></td></tr></table></figure></p>
<h3 id="11-模拟input-file-上传按钮，以及文件名获取方法如下："><a href="#11-模拟input-file-上传按钮，以及文件名获取方法如下：" class="headerlink" title="11. 模拟input[file]上传按钮，以及文件名获取方法如下："></a>11. 模拟input[file]上传按钮，以及文件名获取方法如下：</h3><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div></pre></td><td class="code"><pre><div class="line">&lt;a class="file-con" href="#"&gt;</div><div class="line">    选择文件</div><div class="line">    &lt;input id="orderFile" type="file" /&gt;</div><div class="line">&lt;/a&gt;</div><div class="line">&lt;style&gt;</div><div class="line">.file-con &#123;</div><div class="line">    vertical-align: middle;</div><div class="line">    text-align: center;</div><div class="line">    line-height: 32px;</div><div class="line">    color: #666;</div><div class="line">    text-decoration: none;</div><div class="line">    display: inline-block;</div><div class="line">    width: 80px;</div><div class="line">    height: 32px;</div><div class="line">    background: #f6f6f6;</div><div class="line">    position: relative;</div><div class="line">    overflow: hidden;</div><div class="line">    border: 1px solid #ccc;</div><div class="line">    border-radius: 5px;</div><div class="line">&#125;</div><div class="line"></div><div class="line">.file-con:hover &#123;</div><div class="line">    background: #efefef;</div><div class="line">&#125;</div><div class="line"></div><div class="line">.file-con input &#123;</div><div class="line">    position: absolute;</div><div class="line">    right: 0;</div><div class="line">    top: 0;</div><div class="line">    opacity: 0;</div><div class="line">    filter: alpha(opacity=0);</div><div class="line">    width: 80px;</div><div class="line">    height: 32px;</div><div class="line">    outline: none;</div><div class="line">&#125;</div><div class="line">&lt;/style&gt;</div></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line">    <span class="comment">/**</span></div><div class="line">     *获取文件名</div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">function</span> <span class="title">getFileName</span>(<span class="params">path</span>) </span>&#123;</div><div class="line">        <span class="keyword">var</span> pos1 = path.lastIndexOf(<span class="string">'/'</span>);</div><div class="line">        <span class="keyword">var</span> pos2 = path.lastIndexOf(<span class="string">'\\'</span>);</div><div class="line">        <span class="keyword">var</span> pos = <span class="built_in">Math</span>.max(pos1, pos2)</div><div class="line">        <span class="keyword">if</span> (pos &lt; <span class="number">0</span>)</div><div class="line">            <span class="keyword">return</span> path;</div><div class="line">        <span class="keyword">else</span></div><div class="line">            <span class="keyword">return</span> path.substring(pos + <span class="number">1</span>);</div><div class="line">    &#125;</div><div class="line">&lt;<span class="regexp">/script&gt;</span></div></pre></td></tr></table></figure>
<h3 id="12-js判断电话号码运营商"><a href="#12-js判断电话号码运营商" class="headerlink" title="12. js判断电话号码运营商"></a>12. js判断电话号码运营商</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> isChinaMobile = <span class="regexp">/^1(3[4-9]|5[012789]|8[23478]|4[7]|7[8])\d&#123;8&#125;$/</span>; <span class="comment">//移动</span></div><div class="line"><span class="keyword">var</span> isChinaUnion = <span class="regexp">/^1(3[0-2]|5[56]|8[56]|4[5]|7[6])\d&#123;8&#125;$/</span>; <span class="comment">//联通</span></div><div class="line"><span class="keyword">var</span> isChinaTelcom = <span class="regexp">/^1(3[3])|(8[019])\d&#123;8&#125;$/</span>; <span class="comment">//电信</span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">check</span>(<span class="params">telphone</span>)</span>&#123;</div><div class="line">    <span class="keyword">if</span>(telphone.length !== <span class="number">11</span>)&#123;</div><div class="line">      alert(<span class="string">"未检测到正确的手机号码"</span>);</div><div class="line">    &#125;<span class="keyword">else</span>&#123;</div><div class="line">      <span class="keyword">if</span>(isChinaMobile.test(telphone))&#123;</div><div class="line">        alert(<span class="string">"移动"</span>);</div><div class="line">      &#125;<span class="keyword">else</span> <span class="keyword">if</span>(isChinaUnion.test(telphone))&#123;</div><div class="line">        alert(<span class="string">"联通"</span>);</div><div class="line">      &#125;<span class="keyword">else</span> <span class="keyword">if</span>(isChinaTelcom.test(telphone))&#123;</div><div class="line">        alert(<span class="string">"电信"</span>);</div><div class="line">      &#125;<span class="keyword">else</span>&#123;</div><div class="line">        alert(<span class="string">"未检测到正确的手机号码"</span>);</div><div class="line">      &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">check(<span class="string">"1324****322"</span>);</div></pre></td></tr></table></figure>
<p>###13. 纯css小三角形<br>html:<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&lt;ul <span class="class"><span class="keyword">class</span></span>=<span class="string">"dp_nav"</span>&gt;</div><div class="line">    &lt;li&gt;&lt;a href=""&gt;退出&lt;/a&gt;&lt;/li&gt;</div><div class="line">&lt;<span class="regexp">/ul&gt;</span></div></pre></td></tr></table></figure></p>
<p>样式：<br><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div></pre></td><td class="code"><pre><div class="line"><span class="selector-class">.dp_nav</span> &#123;</div><div class="line">    <span class="attribute">display</span>:none;</div><div class="line">    <span class="attribute">position</span>: absolute;</div><div class="line">    <span class="attribute">min-width</span>: <span class="number">100px</span>;</div><div class="line">    <span class="attribute">padding</span>: <span class="number">5px</span> <span class="number">0</span>;</div><div class="line">    <span class="attribute">background-color</span>: <span class="number">#fff</span>;</div><div class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#ccc</span>;</div><div class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="built_in">rgba</span>(0,0,0,0.2);</div><div class="line">    <span class="attribute">line-height</span>: <span class="number">1.5em</span>;</div><div class="line">    <span class="attribute">text-align</span>:center;</div><div class="line">    <span class="attribute">-webkit-border-radius</span>: <span class="number">6px</span>;</div><div class="line">    <span class="attribute">-moz-border-radius</span>: <span class="number">6px</span>;</div><div class="line">    <span class="attribute">border-radius</span>: <span class="number">6px</span>;</div><div class="line">    <span class="attribute">-webkit-box-shadow</span>: <span class="number">0</span> <span class="number">5px</span> <span class="number">10px</span> <span class="built_in">rgba</span>(0,0,0,0.2);</div><div class="line">    <span class="attribute">-moz-box-shadow</span>: <span class="number">0</span> <span class="number">5px</span> <span class="number">10px</span> <span class="built_in">rgba</span>(0,0,0,0.2);</div><div class="line">    <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">5px</span> <span class="number">10px</span> <span class="built_in">rgba</span>(0,0,0,0.2);</div><div class="line">    <span class="attribute">-webkit-background-clip</span>: padding-box;</div><div class="line">    <span class="attribute">-moz-background-clip</span>: padding;</div><div class="line">    <span class="attribute">background-clip</span>: padding-box;</div><div class="line">&#125;</div><div class="line"><span class="selector-class">.dp_nav</span><span class="selector-pseudo">:before</span> &#123;</div><div class="line">    <span class="attribute">content</span>: <span class="string">''</span>;</div><div class="line">    <span class="attribute">display</span>: inline-block;</div><div class="line">    <span class="attribute">border-left</span>: <span class="number">7px</span> solid transparent;</div><div class="line">    <span class="attribute">border-right</span>: <span class="number">7px</span> solid transparent;</div><div class="line">    <span class="attribute">border-bottom</span>: <span class="number">7px</span> solid <span class="number">#ccc</span>;</div><div class="line">    <span class="attribute">position</span>: absolute;</div><div class="line">    <span class="attribute">top</span>: -<span class="number">7px</span>;</div><div class="line">    <span class="attribute">left</span>: <span class="number">9px</span>;</div><div class="line">&#125;</div><div class="line"><span class="selector-class">.dp_nav</span><span class="selector-pseudo">:after</span> &#123;</div><div class="line">    <span class="attribute">content</span>: <span class="string">''</span>;</div><div class="line">    <span class="attribute">display</span>: inline-block;</div><div class="line">    <span class="attribute">border-left</span>: <span class="number">6px</span> solid transparent;</div><div class="line">    <span class="attribute">border-right</span>: <span class="number">6px</span> solid transparent;</div><div class="line">    <span class="attribute">border-bottom</span>: <span class="number">6px</span> solid <span class="number">#fff</span>;</div><div class="line">    <span class="attribute">position</span>: absolute;</div><div class="line">    <span class="attribute">top</span>: -<span class="number">6px</span>;</div><div class="line">    <span class="attribute">left</span>: <span class="number">10px</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/wills/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/wills/">1</a><span class="page-number current">2</span>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/wills/images/avatar.png"
               alt="Wills" />
          <p class="site-author-name" itemprop="name">Wills</p>
          <p class="site-description motion-element" itemprop="description">wills blogs，前端开发博客，技术博客，前端学习笔记</p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/wills/archives">
              <span class="site-state-item-count">16</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          
            <div class="site-state-item site-state-categories">
              <a href="/wills/categories">
                <span class="site-state-item-count">2</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-tags">
              <a href="/wills/tags">
                <span class="site-state-item-count">13</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/leiwensu" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
          
        </div>

        
        

        
        

        


      </section>

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Wills</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Pisces
  </a>
</div>


        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/wills/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/wills/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/wills/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/wills/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/wills/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/wills/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/wills/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/wills/js/src/motion.js?v=5.1.0"></script>



  
  


  <script type="text/javascript" src="/wills/js/src/affix.js?v=5.1.0"></script>

  <script type="text/javascript" src="/wills/js/src/schemes/pisces.js?v=5.1.0"></script>



  

  


  <script type="text/javascript" src="/wills/js/src/bootstrap.js?v=5.1.0"></script>



  

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"leiwensu"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.id = 'duoshuo-script';
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>

  
    
    
    <script src="/wills/lib/ua-parser-js/dist/ua-parser.min.js?v=0.7.9"></script>
    <script src="/wills/js/src/hook-duoshuo.js"></script>
  








  
  

  

  

  

  


</body>
</html>
